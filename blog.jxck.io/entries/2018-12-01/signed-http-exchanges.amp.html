<!DOCTYPE html>
<html amp lang=ja>
<head>
  <meta charset=utf-8>
  <meta name=viewport content="width=device-width,initial-scale=1">

  <link rel=author    href=https://jxck.io/humans.txt>
  <link rel=manifest  href=/manifest.webmanifest>
  <link rel=alternate href=/feeds/atom.xml type=application/atom+xml title=blog.jxck.io>

  <link rel=canonical href=https://blog.jxck.io/entries/2018-12-01/signed-http-exchanges.html>

  <link rel=icon             type =image/svg+xml sizes=any href=https://jxck.io/assets/img/jxck.svg>
  <link rel=icon             type =image/png sizes=256x256 href=https://jxck.io/assets/img/jxck.png>
  <link rel=apple-touch-icon type =image/png sizes=256x256 href=https://jxck.io/assets/img/jxck.png>

  <meta name=author              content=Jxck>
  <meta name=description         content="WebPackaging ã¯ä»¥ä¸‹ã® 3 ã¤ã®ä»•æ§˜ã‚’çµ„ã¿åˆã‚ã›ãŸãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã§ã‚ã‚‹ã€‚- Signed HTTP Exchanges: Signing (ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«ç½²åã™ã‚‹)- Bundled HTTP Exchanges: Bundling (ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ 1 ã¤ã«ã¾ã¨ã‚ã‚‹...">
  <meta name=keywords            content="webpackaging,signed-http-exchange">
  <meta name=theme-color         content=#000000>

  <meta name=twitter:card        content=summary>
  <meta name=twitter:site        content=@jxck_>
  <meta name=twitter:url         content=https://blog.jxck.io/entries/2018-12-01/signed-http-exchanges.html>
  <meta name=twitter:title       content="WebPackaging ã® Signed HTTP Exchanges | blog.jxck.io">
  <meta name=twitter:description content="WebPackaging ã¯ä»¥ä¸‹ã® 3 ã¤ã®ä»•æ§˜ã‚’çµ„ã¿åˆã‚ã›ãŸãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã§ã‚ã‚‹ã€‚- Signed HTTP Exchanges: Signing (ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«ç½²åã™ã‚‹)- Bundled HTTP Exchanges: Bundling (ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ 1 ã¤ã«ã¾ã¨ã‚ã‚‹...">
  <meta name=twitter:image       content=https://jxck.io/assets/img/jxck.png>

  <meta property=og:type         content=article>
  <meta property=og:url          content=https://blog.jxck.io/entries/2018-12-01/signed-http-exchanges.html>
  <meta property=og:title        content="WebPackaging ã® Signed HTTP Exchanges | blog.jxck.io">
  <meta property=og:site_name    content=blog.jxck.io>
  <meta property=og:description  content="WebPackaging ã¯ä»¥ä¸‹ã® 3 ã¤ã®ä»•æ§˜ã‚’çµ„ã¿åˆã‚ã›ãŸãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã§ã‚ã‚‹ã€‚- Signed HTTP Exchanges: Signing (ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«ç½²åã™ã‚‹)- Bundled HTTP Exchanges: Bundling (ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ 1 ã¤ã«ã¾ã¨ã‚ã‚‹...">
  <meta property=og:image        content=https://jxck.io/assets/img/jxck.png>

  <script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage":{
      "@type":"WebPage",
      "@id":"https://blog.jxck.io"
    },
    "headline": "WebPackaging ã® Signed HTTP Exchanges | blog.jxck.io",
    "image": [
      "https://jxck.io/assets/img/jxck.png",
      "https://logo.jxck.io/jxck.1200x1200.png"
    ],
    "datePublished": "2018-12-01T08:00:00+08:00",
    "dateModified": "2020-12-18T08:00:00+08:00",
    "author": {
      "@type": "Person",
      "name": "Jxck",
      "image": "https://jxck.io/assets/img/jxck.png"
    },
    "publisher": {
      "@type": "Organization",
      "name": "Jxck",
      "logo": {
        "@type": "ImageObject",
        "url": "https://logo.jxck.io/jxck.60x60.png",
        "height": 60,
        "width": 60
      }
    },
    "description": "WebPackaging ã¯ä»¥ä¸‹ã® 3 ã¤ã®ä»•æ§˜ã‚’çµ„ã¿åˆã‚ã›ãŸãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã§ã‚ã‚‹ã€‚- Signed HTTP Exchanges: Signing (ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«ç½²åã™ã‚‹)- Bundled HTTP Exchanges: Bundling (ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ 1 ã¤ã«ã¾ã¨ã‚ã‚‹..."
  }
  </script>

  <title>WebPackaging ã® Signed HTTP Exchanges | blog.jxck.io</title>
  <script async custom-element=amp-analytics src=https://cdn.ampproject.org/v0/amp-analytics-0.1.js></script>
  <script async custom-element=amp-iframe src=https://cdn.ampproject.org/v0/amp-iframe-0.1.js></script>
  <script async custom-element=amp-ad src=https://cdn.ampproject.org/v0/amp-ad-0.1.js></script>
  <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
  <script async src=https://cdn.ampproject.org/v0.js></script>
  <style amp-custom>
    article section p {
      margin-inline-start: 0;
    }

    article table {
      margin-inline-start: 0;
    }

    article img {
      margin-block-start:  var(--grid);
      margin-block-end:    var(--grid);
      margin-inline-start: 0;
      margin-inline-end:   0;
      border: 1px solid #ccc;
      box-sizing: content-box;
      background-color: #fff;
    }

    article ul,
    article ol,
    article dl {
      margin-inline-start: var(--grid);
      font-family: var(--mono-font);
    }

    article li {
      margin-block-start:  calc(var(--grid)/2);
      margin-block-end:    0;
      margin-inline-start: calc(var(--grid)/2);
      margin-inline-end:   0;
    }

    article dl {
      display: grid;
      grid-template-columns: minmax(auto, max-content);
      grid-column-gap: var(--grid);
    }

    article dl div {
      display: contents;
    }

    article dl dt {
      grid-column: 1 / 2;
    }
    article dl dd {
      grid-column: 2 / 2;
    }

    article blockquote {
      font-family: var(--mono-font);
    }

    article blockquote p {
      margin: 0;
    }

    @supports (line-height-step: 1px) {
      article {
        --grid-rhythm: 1.5em;
        line-height: 1.5;
        line-height-step: var(--grid-rhythm);
      }

      article h1,
      article h2,
      article h3,
      article h4,
      article h5,
      article h6 {
        display: inline-block;
        width: 100%;
        line-height-step: 0;
        line-height: 1.2;
        margin-block-end: 0;
      }

      article section {
        /* grid for debug */
        /* background-size: 100% var(--grid-rhythm); */
        /* background-image: linear-gradient(to bottom, #00bcd1 1px, transparent 1px); */
      }

      article p {
        margin-block-start: var(--grid-rhythm);
        margin-block-end:   var(--grid-rhythm);
      }

      article pre,
      article table {
        line-height-step: 0;
        line-height: normal;
      }
    }
    /* normal regular */
    @font-face {
      font-family: "NotoSansCJKjp-Jxck";
      font-style: normal;
      font-weight: 400;
      font-display: swap;
      src:
        local("Noto Sans CJK JP Regular"),
        url("/assets/font/NotoSansCJKjp-Regular-Jxck-20201215.woff2") format("woff2");
    }
    /* normal bold */
    @font-face {
      font-family: "NotoSansCJKjp-Jxck";
      font-style: normal;
      font-weight: 700;
      font-display: swap;
      src:
        local("Noto Sans CJK JP Bold"),
        url("/assets/font/NotoSansCJKjp-Bold-Jxck-20201215.woff2") format("woff2");
    }


    /* mono regular */
    @font-face {
      font-family: "NotoSansMonoCJKjp-Jxck";
      font-style: normal;
      font-weight: 400;
      font-display: swap;
      src:
        local("Noto Sans Mono CJK JP Regular"),
        url("/assets/font/NotoSansMonoCJKjp-Regular-Jxck-20201215.woff2") format("woff2");
    }
    /* mono bold */
    @font-face {
      font-family: "NotoSansMonoCJKjp-Jxck";
      font-style: normal;
      font-weight: 700;
      font-display: swap;
      src:
        local("Noto Sans Mono CJK JP Bold"),
        url("/assets/font/NotoSansMonoCJKjp-Bold-Jxck-20201215.woff2") format("woff2");
    }

    /* Light Mode Theme */
    :root {
      --background-color: #fefefe;
      --font-color: #222;
      --header-color: #222;

      --anchor-color: RoyalBlue;
      --anchor-visited-color: Brown;

      /*--code-block: #161b22;*/
      --code-block: #182331;
      --code-block-font: #cad6e4;

      --code-inline: #f1f5f9;
      --code-inline-font: #292929;

      --block-quote: #ddd;
      --table-border: #222;

      --regular-font: "Noto Sans", "Noto Sans CJK JP", "NotoSansCJKjp-Jxck", "Hiragino Sans", 'ãƒ’ãƒ©ã‚®ãƒè§’ã‚´ Pro W3', 'ãƒ¡ã‚¤ãƒªã‚ª', sans-serif;
      --mono-font: Menlo, Consolas, Liberation, Mono, Courier, "NotoSansMonoCJKjp-Jxck";
      --code-font: Menlo, Consolas, Liberation, Mono, Courier, "NotoSansMonoCJKjp-Jxck";

      --icon-size: 30px;

      --width: 80vw;
      --max-width: 1024px;

      --grid: 1rem;

      --radius: 4px;
    }


    /* Mobile Theme */
    @media screen and (max-device-width: 960px) {
      :root {
        --width: 94vw;
      }

      audio {
        width: 100%;
      }
    }

    /* Dark Mode Theme */
    @media (prefers-color-scheme: dark) {
      :root {
        --header-color: #111;
        --background-color: #222;
        --font-color: #eee;

        --anchor-color: CornflowerBlue;
        --anchor-visited-color: RosyBrown;

        --table-border: #eee;
      }

      article img {
        filter: grayscale(50%);
      }
      article img[src*=svg] {
        filter: invert(100%) grayscale(50%);
      }
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: var(--regular-font);
      background-color: var(--background-color);
      color: var(--font-color);
      font-feature-settings: "palt";
      margin: 0;
      padding: 0;
    }

    code {
      font-family: var(--mono-font);
    }

    img {
      max-width: 100%;
      height: auto;
    }

    hr {
      margin: 0;
      padding: 0;
    }

    iframe {
      display: block;
      max-width: 100%;
      margin-block-start:  var(--grid);
      margin-block-end:    var(--grid);
      margin-inline-start: 0;
      margin-inline-end:   0;
    }
    dl.info {
      display: flex;
      flex-direction: row;
      flex-wrap: wrap;
      margin: 0;
      padding: 0;
    }

    dl.info div {
      display: flex;
      flex-direction: row;
      flex-wrap: nowrap;
    }

    dl.info dt::after {
      content: ":";
      padding-inline-end: calc(var(--grid)/2);
    }

    dl.info dd {
      margin-block-start: 0;
      margin-block-end: 0;
      margin-inline-end: var(--grid);
      margin-inline-start: 0;
    }

    dl.info dd i {
      font-style: normal;
      padding-inline-end: calc(var(--grid)/3);
    }

    details.info > summary {
    }

    details.info ul {
      margin-block-start: 0;
      margin-inline-start: var(--grid);
    }

    nav.tags {
      display: inline;
    }

    .tags ul {
      display: inline-flex;
      margin: 0;
      padding: 0;
    }

    .tags li:before {
      content: none;
    }

    .tags li:first-child:before{
      content: "[ ";
    }

    .tags li:after {
      content: ",";
      padding-inline-end: 0.5rem;
    }

    .tags li:last-child:after {
      content: " ]";
    }
    header {
      z-index: 1;
      position: sticky;
      position: -webkit-sticky;
      top: 0;
      box-sizing: border-box;
      margin: 0;
      padding: calc(var(--grid)/2);
      background-color: var(--header-color);
    }

    h2:target,
    h3:target,
    h4:target,
    h5:target,
    h6:target {
      /* sticky header ã«åˆã‚ã›ã¦ link scroll ã‚’ãšã‚‰ã™ */
      margin-block-start:  calc((var(--icon-size) + var(--grid)) * -1);
      padding-block-start: calc((var(--icon-size) + var(--grid)));
    }

    header nav {
      width: var(--width);
      max-width: var(--max-width);
      margin-block-start:  0;
      margin-block-end:    0;
      margin-inline-start: auto;
      margin-inline-end:   auto;
    }

    header nav ul {
      width: 100%;
      display: flex;
      flex-direction: row;
      align-items: stretch;
      margin: 0;
    }

    header nav li {
      width:  var(--icon-size);
      height: var(--icon-size);
      padding: 0;
      margin-block-start:  0;
      margin-block-end:    0;
      margin-inline-start: var(--grid);
      margin-inline-end:   0;
    }

    header nav ul li a,
    header nav ul li button {
      display: block;
      width: var(--icon-size);
      height: var(--icon-size);
      padding: 0;
      margin: 0;
      border: none;
      background-color: var(--header-color);
    }

    header nav svg {
      fill: var(--background-color);
    }

    header nav ul li::before {
      content: none;
    }

    header nav ul li:first-child {
      flex-grow: 1;
      margin-inline-start: 0;
    }

    header nav .logo {
      border: 1px solid #fff;
      box-sizing: border-box;
    }
    h1 > a,
    h2 > a,
    h3 > a,
    h4 > a,
    h5 > a,
    h6 > a {
      color: var(--font-color);
    }

    h1 > a:visited,
    h2 > a:visited,
    h3 > a:visited,
    h4 > a:visited,
    h5 > a:visited,
    h6 > a:visited {
      color: var(--font-color);
    }

    h1 > a::before {
      content: "# ";
    }

    h2 > a::before {
      content: "## ";
    }

    h3 > a::before {
      content: "### ";
    }

    h4 > a::before {
      content: "#### ";
    }

    h1 > a:hover::before,
    h2 > a:hover::before,
    h3 > a:hover::before,
    h4 > a:hover::before,
    h5 > a:hover::before,
    h6 > a:hover::before {
      color: var(--anchor-visited-color);
    }

    em {
      font-weight: bold;
      font-style: normal;
    }

    em::before,
    em::after {
      content: "*";
    }

    strong {
      color: red;
    }

    strong::before,
    strong::after {
      content: "**";
    }

    ul li::before {
      content: "- ";
    }

    ol {
      counter-reset: list;
    }

    ol li::before {
      counter-increment: list;
      content: counter(list) ". ";
    }

    dl dt::after {
      content: ":";
    }

    blockquote {
      display: block;
      border: solid 1px var(--block-quote);
      border-radius: var(--radius);
      padding: 1rem;
      margin: 0;
    }

    blockquote p::before {
      content: "> ";
    }

    code {
      background-color: var(--code-inline);
      color: var(--code-inline-font);
      border-radius: var(--radius);
      padding: 0 4px;
    }

    code::before,
    code::after {
      content: "`";
    }
    main {
      display: block;
      width: var(--width);
      max-width: var(--max-width);
      margin-block-start:  1em;
      margin-block-end:    1em;
      margin-inline-start: auto;
      margin-inline-end:   auto;
    }

    a {
      word-wrap: break-word;
      text-decoration: none;
      color: var(--anchor-color);
    }

    a:visited {
      color: var(--anchor-visited-color);
    }

    ol,
    ul {
      list-style: none;
      padding-inline-start: 0;
    }

    li {
      word-break: break-all;
      word-wrap: break-word;
    }

    dl dt {
      font-weight: bold;
      margin: 0;
    }

    dl dd {
      margin: 0;
    }
    footer {
      padding: var(--grid);
    }

    footer strong,
    footer .copyright {
      font-style: italic;
      width: var(--width);
      max-width: var(--max-width);
      margin-block-start:  0;
      margin-block-end:    0;
      margin-inline-start: auto;
      margin-inline-end:   auto;
    }

    /* AdSense */
    footer ins {
      display: block;
      width: var(--width);
      max-width: var(--max-width);
      margin-block-start:  0;
      margin-block-end:    0;
      margin-inline-start: auto;
      margin-inline-end:   auto;
    }
    pre {
      margin-block-start:  var(--grid);
      margin-block-end:    var(--grid);
      margin-inline-start: 0;
      margin-inline-end:   0;
      border-radius: var(--radius);
    }

    pre code {
      background-color: var(--code-block);
      color: var(--code-block-font);
    }

    pre::before {
      font-family: var(--code-font);
      content: "```" attr(data-code) "\A";
      font-size: 0.8em;
    }

    pre::after {
      font-family: var(--code-font);
      z-index: -1;
      position: relative;
      top: -1em;
      content: "\A```";
      font-size: 0.8em;
    }

    pre > code {
      font-family: var(--code-font);
      overflow: auto;
      display: block;
      padding: 0.5rem;
      margin: 0;
    }

    pre > code::before,
    pre > code::after {
      content: none;
    }

    .hljs-keyword,
    .hljs-params {
      color: #ff407d;
    }

    .hljs-title {
      color: #b787ff;
    }

    .hljs-string,
    .hljs-regexp {
      color: #84a3ff;
    }

    .hljs-number,
    .hljs-literal {
      color: #03b5f1;
    }

    .hljs-built_in {
      color: #1ada03;
    }

    .hljs-comment {
      color: #96969c;
    }

    .hljs-tag {
      color: #ff429a;
    }

    .hljs-strong {
      font-weight: bold;
    }

    .hljs-attribute {
      font-weight: bold;
      color: #7b9dff;
    }

    .hljs-meta {
      color: #71a0ff;
    }

    .hljs-selector-id,
    .hljs-selector-class,
    .hljs-selector-pseudo {
      color: #a880ef;
    }

    .hljs-selector-tag {
      color: #17c103;
    }

    .hljs-subst {
      font-weight: bold;
    }

    .hljs-variable {
      color: #a71d5d;
    }

    .hljs-symbol {
      font-weight: bold;
    }


    .hljs-bullet {
    }

    /**.hljs,**/
    .hljs-doctag,
    .hljs-code,
    .hljs-addition,
    .hljs-template-variable,
    .hljs-link,
    .hljs-quote,
    .hljs-template-tag,
    .hljs-deletion,
    .hljs-meta-string,
    .hljs-emphasis {
      /** ğŸ™ğŸ™ğŸ™
       * if you find element applyed this style, that's a bug.
       * please tell me https://github.com/jxck/jxck.io/issues
       **/
      font-size: 100em;
    }


    /* PrismJS 1.23.0
    https://prismjs.com/download.html#themes=prism-okaidia&languages=markup+css+clike+javascript+bash+c+cpp+erlang+go+http+hpkp+hsts+json+plsql+ruby+shell-session+sql+yaml */
    /**
     * okaidia theme for JavaScript, CSS and HTML
     * Loosely based on Monokai textmate theme by http://www.monokai.nl/
     * @author ocodia
     */

    .token.comment,
    .token.prolog,
    .token.doctype,
    .token.cdata {
      color: #8292a2;
    }

    .token.punctuation {
      color: #f8f8f2;
    }

    .token.namespace {
      opacity: .7;
    }

    .token.property,
    .token.tag,
    .token.constant,
    .token.symbol,
    .token.deleted {
      color: #f92672;
    }

    .token.boolean,
    .token.number {
      color: #ae81ff;
    }

    .token.selector,
    .token.attr-name,
    .token.string,
    .token.char,
    .token.builtin,
    .token.inserted {
      color: #a6e22e;
    }

    .token.operator,
    .token.entity,
    .token.url,
    .language-css .token.string,
    .style .token.string,
    .token.variable {
      color: #f8f8f2;
    }

    .token.atrule,
    .token.attr-value,
    .token.function,
    .token.class-name {
      color: #e6db74;
    }

    .token.keyword {
      color: #66d9ef;
    }

    .token.regex,
    .token.important {
      color: #fd971f;
    }

    .token.important,
    .token.bold {
      font-weight: bold;
    }
    .token.italic {
      font-style: italic;
    }

    .token.entity {
      cursor: help;
    }
    table {
      font-family: var(--mono-font);
      border-spacing: 0 0.4rem;
      margin-block-start:  var(--grid);
      margin-block-end:    var(--grid);
      margin-inline-start: 0;
      margin-inline-end:   0;
    }

    th {
      border-inline-start: 2px solid var(--table-border);
      border-block-end:    2px dashed var(--table-border);
      padding-block-start:  0;
      padding-block-end:    calc(var(--grid)/2);
      padding-inline-start: var(--grid);
      padding-inline-end:   var(--grid);
    }

    td {
      padding-block-start:  calc(var(--grid)/2);
      padding-block-end:    calc(var(--grid)/2);
      padding-inline-start: var(--grid);
      padding-inline-end:   var(--grid);
      border-inline-start: 2px solid var(--table-border);
    }

    th:last-child,
    td:last-child {
      border-inline-end: 2px solid var(--table-border);
    }

    .align-center {
      text-align: center;
    }

    /** TODO: fixup html class */
    .align-left {
      text-align: start;
    }

    /** TODO: fixup html class */
    .align-right {
      text-align: end;
    }
  </style>
</head>
<body>
<header>
  <nav>
    <ul>
      <li><a href=https://blog.jxck.io      ><amp-img width=30 height=30 src=/assets/img/blog.svg   alt="blog logo" class=logo    ></a>
      <li><a href=/searches                 ><amp-img width=30 height=30 src=/assets/img/search.svg alt=search                    ></a>
      <li><a href=.                         ><amp-img width=30 height=30 src=/assets/img/up.svg     alt="move to parent directory"></a>
      <li><a href=/feeds/atom.xml           ><amp-img width=30 height=30 src=/assets/img/rss.svg    alt="rss feed"                ></a>
      <li><a href=https://jxck.io/humans.txt><amp-img width=30 height=30 src=/assets/img/humans.svg alt="huamns.txt"              ></a>
      <li><a href=https://jxck.io           ><amp-img width=30 height=30 src=/assets/img/jxck.svg   alt="jxck logo" class=logo    ></a>
    </ul>
  </nav>
</header>
<main>
  <dl class=info>
    <div><dt>created_at</dt><dd><time class=created_at datetime=2018-12-01>2018-12-01</time></dd></div>
    <div><dt>updated_at</dt><dd><time class=updated_at datetime=2020-12-18>2020-12-18</time></dd></div>
    <div>
        <dt>tags</dt>
        <dd>
          <nav class=tags>
            <ul>
              <li><a href="/tags/webpackaging.html">webpackaging</a>
              <li><a href="/tags/signed-http-exchange.html">signed-http-exchange</a>
            </ul>
          </nav>
        </dd>
    </div>
    <div>
      <dt>toc</dt>
      <dd>
        <details class=info>
          <summary>headdings</summary>
          <nav>
            <ul>
              <li><a href=#intro>## Intro</a>
              <li><a href=#signing-signed-http-exchanges>## Signing (Signed HTTP Exchanges)</a>
              <li><a href=#bundling-bundled-http-exchanges>## Bundling (Bundled HTTP Exchanges)</a>
              <li><a href=#loading-loading-http-exchanges>## Loading (Loading HTTP Exchanges)</a>
              <li><a href=#physical--logical-url>## Physical / Logical URL</a>
              <li><a href=#use-case>## Use Case</a>
              <li><a href=#amp-cache>### AMP Cache</a>
              <li><a href=#subresource-cdn>### Subresource CDN</a>
              <li><a href=#cross-origin-server-push>### Cross Origin Server Push</a>
              <li><a href=#subresource-integrity>### Subresource Integrity</a>
              <li><a href=#web-archive>### Web Archive</a>
              <li><a href=#local-sharing>### Local Sharing</a>
              <li><a href=#å°å…¥æ–¹æ³•>## å°å…¥æ–¹æ³•</a>
              <li><a href=#è¨¼æ˜æ›¸>### è¨¼æ˜æ›¸</a>
              <li><a href=#è¨¼æ˜æ›¸ãƒã‚§ãƒ¼ãƒ³>### è¨¼æ˜æ›¸ãƒã‚§ãƒ¼ãƒ³</a>
              <li><a href=#æ¤œè¨¼ãƒ‡ãƒ¼ã‚¿>## æ¤œè¨¼ãƒ‡ãƒ¼ã‚¿</a>
              <li><a href=#ç½²å>### ç½²å</a>
              <li><a href=#experimental-features>### Experimental Features</a>
              <li><a href=#demo>### DEMO</a>
              <li><a href=#signed-http-exchange-format>## Signed HTTP Exchange Format</a>
              <li><a href=#requestresponse>### Request/Response</a>
              <li><a href=#digest-header>### Digest Header</a>
              <li><a href=#signature-header>### Signature Header</a>
              <li><a href=#èª²é¡Œ>## èª²é¡Œ</a>
              <li><a href=#offline-å¯¾å¿œ>### offline å¯¾å¿œ</a>
              <li><a href=#cansignhttpexchanges>### CanSignHttpExchanges</a>
              <li><a href=#access-log>### Access Log</a>
              <li><a href=#validity-url-ã®é‹ç”¨>### Validity URL ã®é‹ç”¨</a>
              <li><a href=#æœ¬ã‚µã‚¤ãƒˆã¸ã®é©ç”¨>## æœ¬ã‚µã‚¤ãƒˆã¸ã®é©ç”¨</a>
              <li><a href=#link>## Link</a>
            </ul>
          </nav>
        </details>
      </dd>
    </div>
  </dl>
  <article>
    <h1><a href=/entries/2018-12-01/signed-http-exchanges.html>WebPackaging ã® Signed HTTP Exchanges</a></h1>
    <section>
      <h2 id="intro"><a href="#intro">Intro</a></h2>
      <p><a href="https://github.com/WICG/webpackage">WebPackaging</a> ã¯ä»¥ä¸‹ã® 3 ã¤ã®ä»•æ§˜ã‚’çµ„ã¿åˆã‚ã›ãŸãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã§ã‚ã‚‹ã€‚
      <ul>
        <li>
          <a href="https://tools.ietf.org/html/draft-yasskin-http-origin-signed-responses-04">Signed HTTP Exchanges</a>: Signing (ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«ç½²åã™ã‚‹)
        </li>
        <li>
          <a href="https://tools.ietf.org/html/draft-yasskin-wpack-bundled-exchanges-00">Bundled HTTP Exchanges</a>: Bundling (ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ 1 ã¤ã«ã¾ã¨ã‚ã‚‹)
        </li>
        <li>
          <a href="https://wicg.github.io/webpackage/loading.html">Loading Signed Exchanges</a>: Loading (ãã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ãƒ­ãƒ¼ãƒ‰ã™ã‚‹)
        </li>
      </ul>
      <p>æœ¬ã‚¨ãƒ³ãƒˆãƒªã§ã¯ã€å„ä»•æ§˜ã‚’ Signing/Bundling/Loading ã¨è¨˜ã™ã€‚
      <p>ç¾çŠ¶ã€ Signing ãŠã‚ˆã³ Loading ã®ä»•æ§˜ç­–å®šãŒé€²ã‚“ã§ãŠã‚Šã€ Chrome ã¯ Experimental ãªå®Ÿè£…ã‚’è¡Œã£ã¦ã„ã‚‹ã€‚
      <p>å…¨ä½“çš„ã«ä»•æ§˜ãŒå¤§ããã€ä»Šå¾Œã‚‚å¤‰æ›´ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒé«˜ã„ãŸã‚ã€ä»Šå›ã¯å®Ÿè£…ãŒé€²ã‚“ã§ã„ã‚‹ Signing ã«çµã‚Šã€ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã€ä»•æ§˜ã€ãŠã‚ˆã³æœ¬ãƒ–ãƒ­ã‚°ã¸ã®é©ç”¨ã‚’ä¸­å¿ƒã«è§£èª¬ã™ã‚‹ã€‚
    </section>
    <section>
      <h2 id="signing-signed-http-exchanges"><a href="#signing-signed-http-exchanges">Signing (Signed HTTP Exchanges)</a></h2>
      <p>Signing ã¯ã€ç°¡å˜ã«è¨€ãˆã° Web ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«ç½²åã‚’è¡Œã†ä»•æ§˜ã§ã‚ã‚‹ã€‚
      <p>ä»Šå›ã¯å¯¾è±¡ã¨ã—ã¦ mozaic.fm ãƒ‰ãƒ¡ã‚¤ãƒ³ã«ã‚ã‚‹ä»¥ä¸‹ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«ã¤ã„ã¦è€ƒãˆã‚‹ã€‚
      <ul>
        <li>https://mozaic.fm/index.html
      </ul>
      <p>mozaic.fm ã®ç®¡ç†è€…ã¯ã€ä¿æœ‰ã™ã‚‹ç§˜å¯†éµã‚’ç”¨ã„ã¦ã€ã“ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã® Request/Response ã«å¯¾ã—ã¦ç½²åã‚’ã™ã‚‹ã€‚
      <p>å˜ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½²åã™ã‚‹ã®ã§ã¯ãªãã€ Request/Response ãŒå¯¾è±¡ã§ã‚ã‚‹ãŸã‚ã€ Method/URL/Status/Header ãªã©ã‚‚å«ã¾ã‚Œã‚‹ç‚¹ãŒé‡è¦ã ã€‚
      <p>ç½²åã—ãŸçµæœ <code translate="no">mozaicfm-index.sxg</code> ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã™ã‚‹ã€‚
      <p>ä¸€èˆ¬çš„ã«é›»å­ç½²åã®åŠ¹æœã¯ã€ã€Œå¦èªã€ã€Œæ”¹ã–ã‚“ã€ã€Œãªã‚Šã™ã¾ã—ã€ãªã©ã¸ã®è€æ€§ã§ã‚ã‚Šã€ãã‚Œã¯ Signing ã«ãŠã„ã¦ã‚‚åŒæ§˜ã ã€‚
      <p>ä¸€åº¦ç½²åã™ã‚Œã°ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®æ‰€æœ‰è€…ãŒ mozaic.fm ã§ã‚ã‚Šã€èª°ã‹ãŒæˆã‚Šã™ã¾ã—ã¦ä½œã£ãŸã‚‚ã®ã§ã¯ãªãã€ç½²åä»¥é™æ”¹ã–ã‚“ã•ã‚Œã¦ã„ãªã„ã€ã¨ã„ã†ã“ã¨ãŒä¿è¨¼ã•ã‚Œã‚‹ã€‚
      <p>ã“ã®ç½²åã‚’ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«å¯¾ã—ã¦è¡Œã†ä¸€é€£ã®æµã‚ŒãŒ Signing ã®ä»•æ§˜ã ã€‚
    </section>
    <section>
      <h2 id="bundling-bundled-http-exchanges"><a href="#bundling-bundled-http-exchanges">Bundling (Bundled HTTP Exchanges)</a></h2>
      <p>Siging ã¯ã€å˜ä¸€ã® Request/Response ã«å¯¾ã™ã‚‹ç½²åã‚’è¡Œã†ã€‚
      <p>ã¤ã¾ã‚Š index.html ã«ç½²åã‚’ã—ã¦ã‚‚ã€ãã“ã«èª­ã¿è¾¼ã¾ã‚Œã‚‹ JS ã‚„ CSS ã¨ã„ã£ãŸã‚µãƒ–ãƒªã‚½ãƒ¼ã‚¹ã¯å«ã¾ã‚Œãªã„ã€‚
      <p>ãã“ã§ç½²åã®å‰ã«ã€ã‚µãƒ–ãƒªã‚½ãƒ¼ã‚¹ãªã©ã‚’ 1 ã¤ã«ã¾ã¨ã‚ã‚‹ä»•æ§˜ãŒ Bundling ã ã€‚
      <p>Bundling ã¯ã€ã‚‚ã†å°‘ã—ä»•æ§˜ã¨å®Ÿè£…ãŒé€²ã‚“ã ã‚‰æ”¹ã‚ã¦è§£èª¬ã—ãŸã„ã€‚
    </section>
    <section>
      <h2 id="loading-loading-http-exchanges"><a href="#loading-loading-http-exchanges">Loading (Loading HTTP Exchanges)</a></h2>
      <p>æ¬¡ã« jxck.io ãƒ‰ãƒ¡ã‚¤ãƒ³ã«ã¯ CDN æ©Ÿèƒ½ãŒã‚ã‚‹ã¨ã—ã€å…ˆã®ç½²åã—ãŸ sxg ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã“ã“ã‹ã‚‰é…ä¿¡ã—ãŸã¨ã™ã‚‹ã€‚
      <ul>
        <li>https://cdn.jxck.io/mozaicfm-index.sxg
      </ul>
      <p>é€šå¸¸ã€ã“ã® URL ã‚’ fetch ã—ãŸãƒ–ãƒ©ã‚¦ã‚¶ã¯ã€ Origin ã‚’ <code translate="no">https://cdn.jxck.io</code> ã¨ã—ã¦æ‰±ã†ã€‚
      <p>ä»®ã«ã€ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒãã®ã¾ã¾è¡¨ç¤ºã§ãã‚‹ã¨ã™ã‚Œã°ã€ URL ãƒãƒ¼ã«ã¯ã“ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã ã‚ã†ã€‚
      <p>ã—ã‹ã—ã€ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ Response URL æƒ…å ±ã‚’å«ã¿ã€ç½²åã•ã‚Œã¦ã„ã‚‹ã€‚
      <p>ç½²åã‚’æ¤œè¨¼ã™ã‚‹ã“ã¨ã§ã€å†…å®¹ãŒæ”¹ã–ã‚“ã•ã‚Œã¦ã„ãªã„ã“ã¨ãŒä¿è¨¼ã§ãã‚‹ãŸã‚ã€ãƒ–ãƒ©ã‚¦ã‚¶ã¯ã“ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ mozaic.fm ã‹ã‚‰å–å¾—ã—ãŸã‹ã®ã‚ˆã†ã«æ‰±ã†ã“ã¨ãŒã§ãã‚‹ã€‚
      <p>å…·ä½“çš„ã«ã¯ URL ãƒãƒ¼ã«ã€ã‚ªãƒªã‚¸ãƒŠãƒ«ã® URL ã§ã‚ã‚‹ä»¥ä¸‹ã‚’è¡¨ç¤ºã§ãã‚‹ã€‚
      <ul>
        <li>https://mozaic.fm/index.html
      </ul>
      <p>Signing ã§ç½²åã•ã‚ŒãŸ sxg ã‚’èª­ã¿è¾¼ã‚“ã ãƒ–ãƒ©ã‚¦ã‚¶ãŒã€ç½²åã‚’ç¢ºèªã—ã“ã®ã‚ˆã†ã«æŒ™å‹•ã™ã‚‹æµã‚ŒãŒ Loading ã®ä»•æ§˜ã ã€‚
    </section>
    <section>
      <h2 id="physical--logical-url"><a href="#physical--logical-url">Physical / Logical URL</a></h2>
      <p>Signing(Signed HTTP Exchange) ã«ã‚ˆã£ã¦èµ·ã“ã‚‹å¤§ããªå¤‰åŒ–ã¯ã€ Logical URL ã¨ Physical URL ã®åˆ†é›¢ã§ã‚ã‚‹ã€‚
      <p>(ã“ã®åå‰ã¯ã€æœ€è¿‘ã§ã¯ inner/outer URL ã¨å‘¼ã°ã‚Œã¦ã‚‚ã„ã‚‹ã‚ˆã†ã ãŒã€ãã®è¾ºã¯ã¯ã£ãã‚Šã—ãªã„ã®ã§ã€æœ¬ã‚¨ãƒ³ãƒˆãƒªã§ã¯ Logical/Physical ã‚’æ¡ç”¨ã™ã‚‹)
      <p>å…ˆã®ä¾‹ã§è¨€ãˆã°ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚‹ã€‚
      <ul>
        <li>Logical URL: https://mozaic.fm/index.html
        <li>Physical URL: https://cdn.jxck.io/mozaicfm-index.sxg
      </ul>
      <p>å®Ÿéš›ã« mozaic.fm ã®ã‚ªãƒªã‚¸ãƒ³ã‚µãƒ¼ãƒã‹ã‚‰å–å¾—ã—ãŸã‚ã‘ã§ã¯ãªã„ãŒã€ç½²åã«ã‚ˆã£ã¦ãã®ã‚ˆã†ã«æ‰±ã†ã“ã¨ãŒã§ãã‚‹ã€‚
      <p>å±•é–‹ã•ã‚Œã‚‹ Origin ã¯ mozaic.fm ã®ã‚‚ã®ã«ãªã‚Šã€ã“ã“ã‹ã‚‰é·ç§»ã™ã‚‹éš›ã«ä»˜ä¸ã•ã‚Œã‚‹ Referer ã‚„ Origin ãƒ˜ãƒƒãƒ€ã‚‚å…¨ã¦ mozaic.fm ã«ãªã‚‹ã€‚
      <p>
        <amp-img layout=responsive src=signed-http-exchange.svg#748x561 alt="signed http exchange æ¦‚è¦³" title="signed http exchange" width=748 height=561>
      </p>
    </section>
    <section>
      <h2 id="use-case"><a href="#use-case">Use Case</a></h2>
      <p>ã“ã‚Œã«ã‚ˆã‚Šå¯èƒ½ã«ãªã‚‹ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚’è§£èª¬ã™ã‚‹ã€‚
      <section>
        <h3 id="amp-cache"><a href="#amp-cache">AMP Cache</a></h3>
        <p>AMP ã¯ã€ Origin ã‚µãƒ¼ãƒã«ã‚ã‚‹ AMP Valid ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’  AMP Cache ã«ç½®ãã€ãã“ã‹ã‚‰ä»£ç†ã§é…ä¿¡ã™ã‚‹æ§‹æˆã«ãªã£ã¦ã„ã‚‹ã€‚
        <p>æ§‹æˆã¯ã„ã‚ã‚†ã‚‹ CDN ã ãŒã€ã‚ã‚‰ã‚†ã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’å¯¾è±¡ã¨ã™ã‚‹ãŸã‚ã€ Cache è‡ªä½“ã¯ Google ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ã¾ã¾ã ã€‚ã—ãŸãŒã£ã¦ãƒ¢ãƒã‚¤ãƒ«ã§ Google æ¤œç´¢ã—ãŸçµæœ AMP ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å–å¾—ã—ãŸå ´åˆã€ URL ãƒãƒ¼ã«è¡¨ç¤ºã•ã‚Œã‚‹ã®ã¯ Google ã® URL ã¨ãªã‚‹ã€‚
        <p>ä¾‹ãˆã°ã“ã®è¨˜äº‹ã® AMP å¯¾å¿œ URL ã¯ä»¥ä¸‹ã ãŒã€ AMP ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã® URL ã¯ä»¥ä¸‹ã«ãªã‚‹ã€‚
        <ul>
          <li>https://blog.jxck.io/entries/2018-12-01/signed-http-exchanges.amp.html
          <li>https://www.google.co.jp/amp/s/blog.jxck.io/entries/2018-12-01/signed-http-exchanges.amp.html
        </ul>
        <p>ã“ã®æŒ™å‹•ã¯ã€ AMP ã®ä»•çµ„ã¿ã‚’ç–‘å•è¦–ã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãŒæŒ‡æ‘˜ã™ã‚‹ãƒã‚¤ãƒ³ãƒˆã® 1 ã¤ã ã£ãŸã€‚
        <ul>
          <li><a href="http://ampletter.org/?lang=ja">AMP letter</a>
        </ul>
        <p>ã“ã“ã§ AMP ãŒ Signed HTTP Exchange ã«å¯¾å¿œã™ã‚‹ã¨ã€ Google æ¤œç´¢ã®çµæœ AMP ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‹ã‚‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å–å¾—ã—ã¦ã‚‚ã€å…ƒã® URL ã‚’ URL ãƒãƒ¼ã«è¡¨ç¤ºã§ãã‚‹ã€‚
        <p>AMP ãƒãƒ¼ãƒ ã¯ã™ã§ã« WebPackaging ã¸ã®å¯¾å¿œã‚’ã‹ãªã‚Šæ—©ã„æ®µéšã§ã‚¢ãƒŠã‚¦ãƒ³ã‚¹ã—ã¦ã„ã‚‹ã€‚
        <ul>
          <li><a href="https://amphtml.wordpress.com/2018/11/13/developer-preview-of-better-amp-urls-in-google-search/">Developer Preview of better AMP URLs in Google Search - Accelerated Mobile Pages Project</a>
        </ul>
        <p>ã¾ãŸã€ Cloudflare ã¯ AMP Cache ã«å¯¾ã—ã¦ sxg ã‚’æä¾›ã™ã‚‹éƒ¨åˆ†ã®ã‚µãƒãƒ¼ãƒˆã‚’ã‚¢ãƒŠã‚¦ãƒ³ã‚¹ã—ã¦ã„ã‚‹ã€‚
        <ul>
          <li><a href="https://blog.cloudflare.com/real-urls-for-amp-cached-content-using-cloudflare-workers/">Real URLs for AMP Cached Content Using Cloudflare Workers</a>
        </ul>
      </section>
      <section>
        <h3 id="subresource-cdn"><a href="#subresource-cdn">Subresource CDN</a></h3>
        <p>AMP ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¨åŒã˜ã“ã¨ãŒã€ä¸€èˆ¬ã® CDN ã§ã‚‚å¯èƒ½ã«ãªã‚‹ã€‚
        <p>ã“ã‚Œã¾ã§ CDN ã‚’å…¥ã‚Œã‚‹å ´åˆã¯ Edge ã‚’åŒã˜ãƒ‰ãƒ¡ã‚¤ãƒ³ã«ã™ã‚‹ã®ãŒä¸€èˆ¬çš„ã ã£ãŸãŒã€ Edge ãŒã©ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã§ã‚ã£ã¦ã‚‚å•é¡Œãªã„å ´åˆã‚‚ã§ã‚‹ã ã‚ã†ã€‚
        <p>é€†ã«è€ƒãˆã‚‹ã¨ã€è‡ªåˆ†ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã‹ã‚‰ä»–ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’é…ä¿¡ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã«ãªã‚‹ã€‚
        <p>ä¾‹ãˆã°ã€ bundle ãŒä¸€èˆ¬åŒ–ã—ãŸä»Šã¯ã‚ã‹ã‚‰ãªã„ãŒã€ã‹ã¤ã¦ jquery ã¯è‡ªåˆ†ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã‹ã‚‰ã§ã¯ãªã CDN ã‹ã‚‰å–å¾—ã™ã‚‹æ§‹æˆãŒæ¨å¥¨ã•ã‚ŒãŸã€‚
        <pre class=html><code translate="no">&lt;script src=https://code.jquery.com/jquery-3.3.1.js&gt;&lt;/script&gt;</code></pre>
        <p>ã“ã® URL ã‚’ä½¿ã†ã¨ã€ã‚‚ã—ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ãŒåŒã˜ URL ã§å–å¾—ã—ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ã¦ã„ã‚Œã°ã€ãã‚ŒãŒãã®ã¾ã¾ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆã™ã‚‹ã‹ã‚‰ã§ã‚ã‚‹ã€‚
        <p>å¤šãã®ã‚µãƒ¼ãƒ“ã‚¹ãŒåŒã˜ URL ã‚’ä½¿ãˆã°ä½¿ã†ã»ã©ã€ãã®ãƒ¡ãƒªãƒƒãƒˆã¯å¢—ãˆã‚‹ã€‚
        <p>ã‚‚ã— jQuery ãŒ sxg ã‚’é…å¸ƒã—ãŸã‚‰ã€ãã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è‡ªåˆ†ã®ã‚µãƒ¼ãƒã‹ã‚‰é…å¸ƒã—ã¤ã¤ã€ å±•é–‹å¾Œã® URL ã¯åŒã˜ã«ãªã‚‹ãŸã‚ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¯åŒã˜ã«ãªã‚‹ã¨ã„ã†ã“ã¨ãŒå¯èƒ½ã«ãªã‚‹ã€‚
        <p>ãŸã ã— sxg ã¸ã® URL ã‚’ src ã«æ›¸ãã¨ã€å–å¾—ã™ã‚‹éš›ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒæœ‰ã£ã¦ã‚‚ãƒ’ãƒƒãƒˆã•ã‚Œã‚‹ã“ã¨ãŒã§ããªã„ã€‚
        <pre class=html><code translate="no">&lt;script src=https://cdn.example.com/jquery-3.3.1.js.sxg&gt;&lt;/script&gt;
&lt;!-- ã“ã‚Œã ã¨ https://code.jquery.com/jquery-3.3.1.js ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒã‚ã£ã¦ã‚‚ãƒ’ãƒƒãƒˆã—ãªã„ --&gt;</code></pre>
        <p>ãã“ã§ logicalsrc/physicalsrc ã‚’ä¸¡æ–¹æ›¸ãæ–¹æ³•ãŒææ¡ˆã•ã‚Œã¦ã„ã‚‹ã€‚
        <pre class=html><code translate="no">&lt;script logicalsrc=https://code.jquery.com/jquery-3.3.1.js
        physicalsrc=https://cdn.example.com/jquery-3.3.1.js.sxg&gt;&lt;/script&gt;</code></pre>
        <p><a href="https://tools.ietf.org/html/draft-yasskin-http-origin-signed-responses-04#appendix-A.2">A.2. Explicit use of a content distributor for subresources</a>
      </section>
      <section>
        <h3 id="cross-origin-server-push"><a href="#cross-origin-server-push">Cross Origin Server Push</a></h3>
        <p>ä¾‹ãˆã° index.html ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚ˆã‚Šå‰ã« jquery.js ã‚’ HTTP2 Push ã™ã‚‹å ´åˆã¯ã€ jquery.js ã¯åŒã˜ Origin ã‹ã‚‰ã§ã‚ã‚‹å¿…è¦ãŒã‚ã£ãŸã€‚
        <p>ã—ã‹ã—ã€å†…å®¹ã®æ¤œè¨¼ã‚’ sxg ãŒæ‹…ã†ãŸã‚ã€ sxg ã‚’ Push ã™ã‚Œã° jquery.js ã‚’ jquery.com ã‹ã‚‰ã® CORS Push ã¨ã—ã¦é€ã‚‹ã“ã¨ãŒå¯èƒ½ã«ãªã‚‹ã€‚
        <ul>
          <li>HTTP2 Push ã«å¯¾å¿œã—ã¦ãªã„ 3rd Party Contents ã‚’ä»£ç†ã§ Push ã™ã‚‹
          <li>Origin ãŒå¼µã£ãŸæ¥ç¶šã« 3rd Party ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç›¸ä¹—ã‚Šã™ã‚‹
        </ul>
      </section>
      <section>
        <h3 id="subresource-integrity"><a href="#subresource-integrity">Subresource Integrity</a></h3>
        <p>Subresource Integrity (SRI) ã¨ã¯ã€ Subresouce ãŒæƒ³å®šã—ãŸã‚‚ã®ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã€æ”¹ã–ã‚“ç­‰ã«ã‚ˆã£ã¦æ„å›³ã—ãªã„ã‚‚ã®ã«å·®ã—æ›¿ãˆã‚‰ã‚Œã‚‹ã“ã¨ã‚’é˜²ãä»•çµ„ã¿ã§ã‚ã‚‹ã€‚
        <p>ä»¥ä¸‹ã¯ã€ integrity å±æ€§ã« jquery å…¨ä½“ã® sha-256 ãƒãƒƒã‚·ãƒ¥ã‚’å«ã‚€ã“ã¨ã§ã€ç•°ãªã‚‹ jquery ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã“ã¨ã‚’é˜²ãã€‚
        <pre class=html><code translate="no">&lt;script src=https://code.jquery.com/jquery-3.3.1.js
        integrity=sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=&gt;&lt;/script&gt;</code></pre>
        <p>WebAppSec ã¯ã“ã® SRI ã«ã€å˜ãªã‚‹ãƒãƒƒã‚·ãƒ¥ã§ã¯ãªãã€ç½²åã‚’å–ã‚Šå…¥ã‚Œã‚‹æ–¹æ³•ã«ã¤ã„ã¦è­°è«–ã—ã¦ã„ã‚‹ã€‚
        <ul>
          <li><a href="https://github.com/mikewest/signature-based-sri">mikewest/signature-based-sri: Signature-based Resource Loading Restrictions</a>
        </ul>
        <p>ã“ã‚Œã¯ã€ã¾ã•ã—ã Signing ãŒã‚„ã£ã¦ã„ã‚‹ã“ã¨ã¨é¡ä¼¼ã—ã¦ã„ã‚‹ã€‚
        <p>åŒæ§˜ã«ã€ TLS ã®ã‚ˆã†ãªçµŒè·¯ã®æš—å·åŒ–ã ã‘ã§ã¯è¶³ã‚‰ãšã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å®Œå…¨æ€§ã«ã¤ã„ã¦ä¿è¨¼ãŒæ¬²ã—ã„ä»•æ§˜ã§å¿œç”¨ãŒå¯èƒ½ã«ãªã‚‹ã ã‚ã†ã€‚
      </section>
      <section>
        <h3 id="web-archive"><a href="#web-archive">Web Archive</a></h3>
        <p><a href="https://web.archive.org/">Internet Archive</a> ã‚„ <a href="https://megalodon.jp/">Web é­šæ‹“</a> ã®ã‚ˆã†ã«ã€ã‚¯ãƒ­ãƒ¼ãƒ«ã—ãŸçµæœã‚’ä¿å­˜ã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ãŒå­˜åœ¨ã™ã‚‹ã€‚
        <p>ã—ã‹ã—ã€ã“ã‚Œã‚‰ã®ã‚µãƒ¼ãƒ“ã‚¹ãŒä¿å­˜ã—ã¦ã„ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒã€ã‚ªãƒªã‚¸ãƒŠãƒ«ã®ã‚‚ã®ã‹ã‚‰æ”¹ã–ã‚“ã•ã‚Œã¦ã„ãªã„ã“ã¨ã¯ä¿è¨¼ã§ããªã„(é‹å–¶ã¸ã®ä¿¡é ¼ã«ã‚ˆã£ã¦æˆã‚Šç«‹ã£ã¦ã„ã‚‹)ã€‚
        <p>ã“ã“ã§ã€ã“ã†ã—ãŸã‚µãƒ¼ãƒ“ã‚¹ãŒ sxg ã‚’åé›†ã™ã‚‹ã‚ˆã†ã«ãªã‚Œã°ã€æ”¹ã–ã‚“ã•ã‚Œã¦ã„ãªã„ã“ã¨ãŒæ¤œè¨¼å¯èƒ½ã«ãªã‚‹ã€‚
        <p>ã‚‚ã£ã¨è¨€ãˆã°ã€æˆã‚Šã™ã¾ã—ã‚‚å¦èªã‚‚å‡ºæ¥ãªã„ãŸã‚ã€ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã«å¯¾ã—ã¦ã€Œè¦‹ã«è¦šãˆãŒãªã„ã€ã¨ç™½ã‚’ãã‚‹ã“ã¨ã‚‚ã§ããªããªã‚‹ã€‚
        <p>ã“ã†ã—ã¦ã€ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ä¿¡é ¼æ€§ãŒæ‹…ä¿ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã¨ã€åˆ©ç”¨ã®å¹…ãŒåºƒãŒã‚‹ã ã‚ã†ã€‚
      </section>
      <section>
        <h3 id="local-sharing"><a href="#local-sharing">Local Sharing</a></h3>
        <p>CDN ã‚ˆã‚Šã‚‚ã‚‚ã£ã¨ç©æ¥µçš„ã«ã€ã‚ã‚‰ã‚†ã‚‹å ´æ‰€ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã«ãªã‚‹ã€‚
        <p>ä¾‹ãˆã°ã€éš£ã®ç«¯æœ«ãŒå–å¾—æ¸ˆã¿ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã§è»¢é€ã—ãŸã‚Šã€ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ãŠã„ãŸã‚‚ã®ã‚’ãƒãƒ£ãƒƒãƒˆã§å…±æœ‰ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã ã€‚ã€‚
        <p>ä¸¦è¡Œã—ã¦ã€ç½²åã®å‰ã«è¤‡æ•°ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æŸã­ã‚‹ bundling ãŒå®Ÿç¾ã™ã‚Œã°ã€ä¾‹ãˆã° Offline çŠ¶æ…‹ã§éš£ã®ç«¯æœ«ã‹ã‚‰ bluetooth ã§ã‚‚ã‚‰ã£ãŸ PWA ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã¨ã„ã£ãŸåˆ©ç”¨ã‚‚æƒ³å®šã•ã‚Œã¦ã„ã‚‹ã€‚
        <p>(ã—ã‹ã—ã€ç¾æ™‚ç‚¹ã§ã¯å¾Œè¿°ã®ç†ç”±ã«ã‚ˆã‚Š offline ã§ã®åˆ©ç”¨ã¯å‡ºæ¥ãªã„)
        <p>ã‚„ã‚Šã‹ãŸã¯ã„ãã‚‰ã§ã‚‚æœ‰ã‚‹ãŒã€ã‚ˆã‚Šç©æ¥µçš„ãªã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒå¯èƒ½ã«ãªã‚‹ã¨ã„ã†ã‚¤ãƒ¡ãƒ¼ã‚¸ã ã€‚
      </section>
    </section>
    <section>
      <h2 id="å°å…¥æ–¹æ³•"><a href="#å°å…¥æ–¹æ³•">å°å…¥æ–¹æ³•</a></h2>
      <p>å®Ÿéš›ã«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç½²åã—ã€åˆ¥ã‚ªãƒªã‚¸ãƒ³ã‹ã‚‰é…å¸ƒã—ã¦è¡¨ç¤ºã™ã‚‹ã¾ã§ã®æµã‚Œã‚’ã¾ã¨ã‚ã‚‹ã€‚
      <p>Origin Trial ã€æ‹¡å¼µä»˜ãè¨¼æ˜æ›¸ã€ãƒ•ãƒ©ã‚°ã¤ãèµ·å‹•ã® Chrome Canary ãªã©å¿…è¦ãªãŸã‚å¤šå°‘æ•·å±…ãŒé«˜ã„ãŒã€ã“ã“ã‹ã‚‰ã‚‚ã¾ã ä»•æ§˜/å®Ÿè£…ã¨ã‚‚ã«ä½œæ¥­é€”ä¸­ã®æŠ€è¡“ã§ã‚ã‚‹ã“ã¨ãŒã‚ã‹ã‚‹ã ã‚ã†ã€‚
      <p>ç½²åã«ã¯ã€ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹å®Ÿè£…ã¨ã—ã¦æä¾›ã•ã‚Œã¦ã„ã‚‹ Go è£½ã®ä»¥ä¸‹ã®ãƒ„ãƒ¼ãƒ«ã‚’åˆ©ç”¨ã™ã‚‹ã€‚
      <p><a href="https://github.com/WICG/webpackage/tree/master/go/signedexchange">https://github.com/WICG/webpackage/tree/master/go/signedexchange</a>
      <section>
        <h3 id="è¨¼æ˜æ›¸"><a href="#è¨¼æ˜æ›¸">è¨¼æ˜æ›¸</a></h3>
        <p>Signing ã«ã¯ CanSignHttpExchanges æ‹¡å¼µã‚’å«ã‚€ X.509 è¨¼æ˜æ›¸ãŒå¿…è¦ã ã€‚
        <p>ç¾çŠ¶ã“ã‚Œã‚’è©¦ã™ãŸã‚ã®é¸æŠè‚¢ã¯ 3 ã¤ã‚ã‚‹
        <ol>
          <li>ç¾çŠ¶ DigiCert ã®ã¿ãŒæ‹¡å¼µã«å¯¾å¿œã—ãŸè¨¼æ˜æ›¸ã‚’ç™ºè¡Œã™ã‚‹ã®ã§ã€ãã“ã‹ã‚‰è³¼å…¥ã™ã‚‹
          <li>é€šå¸¸ã®è¨¼æ˜æ›¸ã‚’åˆ©ç”¨ã—ã€ Chrome ã® &lt;chrome://flags/#allow-sxg-certs-without-extension&gt; ã‚’æœ‰åŠ¹ã«ã™ã‚‹
          <li>æ‹¡å¼µã‚’å«ã‚€è‡ªå·±è¨¼æ˜æ›¸ã‚’ä½œæˆã™ã‚‹
        </ol>
        <p>ä»Šå›ã¯ DEMO ç”¨ã« 3 ã‚’æ¡ç”¨ã™ã‚‹ã€‚
        <p>ã¾ãšã€ç½²åã‚’è¡Œã† mozaic.fm ãƒ‰ãƒ¡ã‚¤ãƒ³ç”¨ã«ã€ CanSignHttpExchanges æ‹¡å¼µã®å…¥ã£ãŸè‡ªå·±è¨¼æ˜æ›¸ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«ä½œæˆã™ã‚‹ã€‚
        <pre class=sh><code translate="no">#! /bin/sh

# prime256v1 ecdsa ã®ç§˜å¯†éµã‚’ç”Ÿæˆ
openssl ecparam -out priv.key -name prime256v1 -genkey

# éµã«å¯¾ã™ã‚‹è¨¼æ˜æ›¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆã€ãƒ‰ãƒ¡ã‚¤ãƒ³ã¯ mozaic.fm ã¨ã™ã‚‹
openssl req -new -sha256 -key priv.key -out cert.csr -subj &#39;/CN=mozaic.fm/O=Test/C=US&#39;

# æ‹¡å¼µã‚’æŒ‡å®šã—ãŸ CSR ã‚’ç”Ÿæˆã™ã‚‹
echo &quot;1.3.6.1.4.1.11129.2.1.22 = ASN1:NULL\nsubjectAltName=DNS:mozaic.fm&quot; &gt; ext
openssl x509 -req -days 360 -in cert.csr -signkey priv.key -out cert.pem -extfile ext

# è¨¼æ˜æ›¸ã‚’ç”Ÿæˆã™ã‚‹
openssl x509 -req -days 360 -in cert.csr -signkey priv.key -out cert.pem</code></pre>
      </section>
      <section>
        <h3 id="è¨¼æ˜æ›¸ãƒã‚§ãƒ¼ãƒ³"><a href="#è¨¼æ˜æ›¸ãƒã‚§ãƒ¼ãƒ³">è¨¼æ˜æ›¸ãƒã‚§ãƒ¼ãƒ³</a></h3>
        <p>Signing ã®æ¤œè¨¼ã«å¿…è¦ãªè¨¼æ˜æ›¸ãƒã‚§ãƒ¼ãƒ³ã‚’ç”Ÿæˆã™ã‚‹ã€‚
        <p>ãƒ•ã‚¡ã‚¤ãƒ«ã¯ CBOR å½¢å¼ã§ã€è¨¼æ˜æ›¸ãƒã‚§ãƒ¼ãƒ³ã€ OCSP ã€ SCT ã‚’å«ã‚€å¿…è¦ãŒã‚ã‚‹ã€‚
        <p>ç”Ÿæˆã«ã¯ã€ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹å®Ÿè£…ã® gen-certurl ã‚’ä½¿ç”¨ã™ã‚‹ã€‚
        <p><a href="https://github.com/WICG/webpackage/tree/master/go/signedexchange/cmd/gen-certurl">https://github.com/WICG/webpackage/tree/master/go/signedexchange/cmd/gen-certurl</a>
        <pre class=sh><code translate="no">#! /bin/sh

# gen-certurl ã®å–å¾—
go get -u github.com/WICG/webpackage/go/signedexchange/cmd/gen-certurl

# æœ¬æ¥ã¯ ocsp ã®æŒ‡å®šãŒå¿…è¦ã ãŒã€è‡ªå·±è¨¼æ˜æ›¸ãªã®ã§é©å½“ãªå€¤ã‚’æŒ‡å®šã™ã‚‹
# æ­£å½“ãªè¨¼æ˜æ›¸ãªã‚‰ã°ã€æŒ‡å®šã—ãªã‘ã‚Œã°ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã¦å–å¾—ã—ã¦ãã‚Œã‚‹
echo &quot;ocsp&quot; &gt; tmp
./bin/gen-certurl -pem cert.pem -ocsp tmp &gt; cert.cbor</code></pre>
        <p>ç”Ÿæˆã—ãŸ cert.cbor ã¯ã€ <code translate="no">Content-Type: application/cert-chain+cbor</code> ã§ã€ CDN ã‹ã‚‰é…å¸ƒã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚
        <p>ã“ã“ã§ã¯ã€ä»¥ä¸‹ã® URL ã‹ã‚‰é…å¸ƒã™ã‚‹ã“ã¨ã¨ã™ã‚‹ã€‚
        <p><a href="https://labs.jxck.io/webpackaging/signed-http-exchange-b2/cert.cbor">https://labs.jxck.io/webpackaging/signed-http-exchange-b2/cert.cbor</a>
      </section>
    </section>
    <section>
      <h2 id="æ¤œè¨¼ãƒ‡ãƒ¼ã‚¿"><a href="#æ¤œè¨¼ãƒ‡ãƒ¼ã‚¿">æ¤œè¨¼ãƒ‡ãƒ¼ã‚¿</a></h2>
      <p>ä»•æ§˜ä¸Šã¯ã€è¨¼æ˜æ›¸ã®æœŸé™ãŒåˆ‡ã‚Œã¦ã„ãŸå ´åˆã«ã€è¨¼æ˜æ›¸ã‚’å†åº¦å–å¾—ã—ç›´ã™ãŸã‚ã® Validity Data ã‚’ç”Ÿæˆã— validity-url ã«ç½®ãå¿…è¦ãŒã‚ã‚‹ã€‚
      <p>ã—ã‹ã—ã€ã¾ã ãƒ„ãƒ¼ãƒ«ã«ã¯å®Ÿè£…ã•ã‚Œã¦ãŠã‚‰ãšã€ Chrome ã‚‚ã“ã®å€¤ã‚’è¦‹ã¦ã„ãªã„ã‚ˆã†ã ã€‚
      <p>ã—ãŸãŒã£ã¦ã€ä»Šå›ã¯é©å½“ãª validity-url ã ã‘æ±ºã‚ã¦ã€ validity data ã®ç”Ÿæˆã¯é£›ã°ã™ã€‚
      <p>(ãŸã ã—ã€ã“ã“ã®é‹ç”¨ã¯è‰²ã€…è€ƒãˆã¦è¨­è¨ˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šãã†ã«æ„Ÿã˜ã¦ã„ã‚‹)
      <section>
        <h3 id="ç½²å"><a href="#ç½²å">ç½²å</a></h3>
        <p>ã“ã“ã¾ã§ã«ç”¨æ„ã—ãŸææ–™ã‚’ç”¨ã„ã¦ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«ç½²åã™ã‚‹ã€‚
        <p>ç½²åã«ã¯ã€ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹å®Ÿè£…ã® gen-signedexchange ã‚’ä½¿ç”¨ã™ã‚‹ã€‚
        <p><a href="https://github.com/WICG/webpackage/tree/master/go/signedexchange/cmd/gen-signedexchange">https://github.com/WICG/webpackage/tree/master/go/signedexchange/cmd/gen-signedexchange</a>
        <pre class=sh><code translate="no">#! /bin/sh

# gen-signedexchange ã®å–å¾—
go get -u github.com/WICG/webpackage/go/signedexchange/cmd/gen-signedexchange

# mozaic.fm/index.html ã‚’ç½²å
./bin/gen-signedexchange \
  -uri         https://mozaic.fm/index.html \ # ãƒ–ãƒ©ã‚¦ã‚¶ãŒè¡¨ç¤ºã™ã‚‹ URL
  -content     ../mozaic.fm/index.html \ # å¯¾è±¡ã‚³ãƒ³ãƒ†ãƒ³ãƒ„
  -certificate cert.pem \ # è¨¼æ˜æ›¸
  -privateKey  priv.key \ # ç§˜å¯†éµ
  -certUrl     https://labs.jxck.io/webpackaging/signed-http-exchange-b2/cert.cbor \ # è¨¼æ˜æ›¸ãƒã‚§ãƒ¼ãƒ³ã® URL
  -validityUrl https://labs.jxck.io/webpackaging/signed-http-exchange-b2/validity-data \ # æ¤œè¨¼ç”¨ã® URL
  -o           mozaic.sxg # æˆæœç‰©</code></pre>
        <p>ç”Ÿæˆã—ãŸ mozaic.sxg ã¯ã€ <code translate="no">Content-Type: application/signed-exchange;v=b2</code> ã§ CDN ã‹ã‚‰é…å¸ƒã™ã‚‹ã€‚
      </section>
      <section>
        <h3 id="experimental-features"><a href="#experimental-features">Experimental Features</a></h3>
        <p>ç¾çŠ¶ Chrome ã§ã¯ã€ sxg ã‚’è¡¨ç¤ºã™ã‚‹ã«ã¯ 2 ã¤ã®æ–¹æ³•ãŒã‚ã‚‹ã€‚
        <ul>
          <li>Signed HTTP Exchange ã® Origin Trials ã«ç™»éŒ²ã™ã‚‹
          <li>Chrome ã® chrome://flags/#enable-signed-http-exchange ã‚’æœ‰åŠ¹ã«ã™ã‚‹
        </ul>
        <p>ã¤ã¾ã‚Šã€ Origin Trials ã«ç™»éŒ²ã—ã€æ­£è¦ã®æ‹¡å¼µä»˜ãè¨¼æ˜æ›¸ã‚’ä½¿ã£ã¦ã„ã‚Œã°ã€ Chrome Canary ãªã©ã§ã¯ãã®ã¾ã¾è¡¨ç¤ºã§ãã‚‹ã ã‚ã†ã€‚
        <p>è‡ªå·±ç½²åè¨¼æ˜æ›¸ã®å ´åˆã«ã¯ã€ Chrome ã«ãã®è¨¼æ˜æ›¸ã«é–¢ã™ã‚‹ã‚¨ãƒ©ãƒ¼ã‚’ç„¡è¦–ã•ã›ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚
        <p>cert.pem ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã« base64 å½¢å¼ã«å¤‰æ›ã—ã€ãã‚Œã‚’ <code translate="no">--ignore-certificate-errors-spki-list</code> ã«æŒ‡å®šã™ã‚‹ã€‚
        <pre class=sh><code translate="no"># è¨¼æ˜æ›¸ã® base64 ã®ç”Ÿæˆ
export BASE64 = openssl x509 -noout -pubkey -in cert.pem | openssl pkey -pubin -outform der | openssl dgst -sha256 -binary | base64

# Mac ã§ Canary ã‚’èµ·å‹•ã™ã‚‹å ´åˆ
open -a Google\ Chrome\ Canary --args --ignore-certificate-errors-spki-list=$BASE64</code></pre>
      </section>
      <section>
        <h3 id="demo"><a href="#demo">DEMO</a></h3>
        <p>å‹•ä½œã™ã‚‹ãƒ‡ãƒ¢ã‚’ä»¥ä¸‹ã«ç”¨æ„ã—ãŸã€‚
        <ul>
          <li><a href="https://labs.jxck.io/webpackaging/signed-http-exchange-b2/">https://labs.jxck.io/webpackaging/signed-http-exchange-b2/</a>
        </ul>
        <p>ãŸã ã—
        <ul>
          <li>ç”Ÿæˆã•ã‚ŒãŸ sxg ã¯ expire ã—ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚ã€æ™‚é–“ãŒçµŒã¤ã¨ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã‚‚è¡¨ç¤ºã§ããªã„
          <li>è‡ªå·±è¨¼æ˜æ›¸ã§ã‚ã‚‹ãŸã‚ã€é·ç§»å…ˆã«æ›¸ã‹ã‚ŒãŸãƒ•ãƒ©ã‚°ã‚’ã¤ã‘ã¦ Chrome ã‚’èµ·å‹•ã™ã‚‹å¿…ç”¨ãŒã‚ã‚‹
          <li>Origin Trials ã«ã¯ Opt-In ã—ã¦ã„ã‚‹
        </ul>
        <p>ã¾ãšé·ç§»å…ˆã®ãƒšãƒ¼ã‚¸ã¯ä»¥ä¸‹ã ã€‚
        <p>
          <amp-img layout=responsive src=1-index.png#748x457 alt="sxg ã¸é·ç§»ã™ã‚‹å‰ã®ãƒšãƒ¼ã‚¸" title="index page" width=748 height=457>
        </p>
        <p>ãƒšãƒ¼ã‚¸ä¸‹éƒ¨ã®ãƒªãƒ³ã‚¯ã‹ã‚‰ sxg ã«é·ç§»ã™ã‚‹ã€‚
        <ul>
          <li>https://labs.jxck.io/webpackaging/signed-http-exchange-b2/mozaic.sxg
        </ul>
        <p>ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã« Origin-Trial Token ã‚’ä»˜ä¸ã—ã¦ãŠã‚Šã€ content-type ã¯ application/signed-exchange;v=b2 ã§ã‚ã‚‹ã€‚
        <p>
          <amp-img layout=responsive src=2-sxg-response.png#748x457 alt="sxg ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€" title="sxg response" width=748 height=457>
        </p>
        <p>ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å±•é–‹ã—ãŸãƒ–ãƒ©ã‚¦ã‚¶ã¯ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ‘ãƒ¼ã‚¹ã—ã€å¿…è¦ãªæƒ…å ±ã‚’å–å¾—ã™ã‚‹ã€‚
        <p>ã‚ªãƒªã‚¸ãƒŠãƒ«ã® URL ã‚„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€ç½²åã¨è¨¼æ˜æ›¸ãªã©ãŒç¢ºèªã§ãã‚‹ã€‚
        <p>
          <amp-img layout=responsive src=3-sxg-signing-detail.png#748x457 alt="sxg ã®ç½²åéƒ¨åˆ†ã®è©³ç´°" title="sxg signing detail" width=748 height=457>
        </p>
        <p>ã“ã“ã§å–å¾—ã—ãŸ Certificate URL ã‹ã‚‰è¨¼æ˜æ›¸ã‚’å–å¾—ã™ã‚‹ã€‚
        <p>cbor ã¯ <code translate="no">application/cert-chain+cbor</code> ã§é…å¸ƒã™ã‚‹ã€‚
        <p>
          <amp-img layout=responsive src=4-cert-chain-cbor.png#748x457 alt="è¨¼æ˜æ›¸ãƒã‚§ã‚¤ãƒ³ã®è©³ç´°" title="cert chain cbor" width=748 height=457>
        </p>
        <p>ã“ã‚Œã‚’ç”¨ã„ã¦ç½²åã®æ¤œè¨¼ãŒå®Œäº†ã—ãŸã‚‰ã€ãƒ–ãƒ©ã‚¦ã‚¶ã¯ Original ã® URL ã§ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è¡¨ç¤ºã™ã‚‹ã€‚
        <p>
          <amp-img layout=responsive src=5-rendered-contents.png#748x457 alt="Logical URL ã§è¡¨ç¤ºã•ã‚ŒãŸ HTML" title="" width=748 height=457>
        </p>
        <p>å†…éƒ¨çš„ã«ã¯æ”¹ã‚ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒç™ºç”Ÿã—ã¦ã„ã‚‹ã‚ˆã†ã«è¦‹ãˆã‚‹ãŒã€ã‚µãƒ¼ãƒã«ã¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯é£›ã‚“ã§ã„ãªã„ã€‚
        <p>ã¾ãŸã€ãƒ–ãƒ©ã‚¦ã‚¶ã® URL ãƒãƒ¼ã«ã¯ mozaic.fm ã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚‹ã€‚
        <p>ãŸã ã—ã€ä»Šå› Signing ã®å¯¾è±¡ã¯ index.html ã ã‘ã§ã‚ã‚Šã€ã‚µãƒ–ãƒªã‚½ãƒ¼ã‚¹ã¯ç½²åã—ã¦ã„ãªã„ã€‚ã—ãŸãŒã£ã¦ CSS ã‚„ JS ãªã©ã¯å®Ÿéš›ã®ã‚µãƒ¼ãƒã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒç™ºç”Ÿã—ã¦ã„ã‚‹ã€‚
        <p>ã“ã‚Œã‚‰ã‚’å¯¾è±¡ã«å«ã‚€ã«ã¯ã€ã‚µãƒ–ãƒªã‚½ãƒ¼ã‚¹å…¨ä½“ã‚’ bundling ã§ 1 ã¤ã«ã¾ã¨ã‚ã€ãã®çµæœã« signing ã§ç½²åã™ã‚‹ã“ã¨ã«ãªã‚‹ã€‚ãã¡ã‚‰ã¯ã€ã„ãšã‚Œå®Ÿè£…ãŒé€²ã‚“ã ã‚‰è§£èª¬ã—ãŸã„ã€‚
      </section>
    </section>
    <section>
      <h2 id="signed-http-exchange-format"><a href="#signed-http-exchange-format">Signed HTTP Exchange Format</a></h2>
      <p>Signed HTTP Exchange ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã«ã¤ã„ã¦è§£èª¬ã™ã‚‹ã€‚
      <section>
        <h3 id="requestresponse"><a href="#requestresponse">Request/Response</a></h3>
        <p>Signing ã®å¯¾è±¡ã¯ã€å˜ã«ãƒ•ã‚¡ã‚¤ãƒ«ã«ç½²åã™ã‚‹ã®ã§ã¯ãªãã€ãã®ãƒ•ã‚¡ã‚¤ãƒ«ã® Request/Response å…¨ä½“ã«å¯¾ã—ã¦ç½²åã‚’è¡Œã†ã€‚
        <p>ä»Šå›ã®å ´åˆã¯ã€ HTML ã® Body ã‚’å«ã‚ä»¥ä¸‹ã® Request/Response ãŒå¯¾è±¡ã¨ãªã‚‹ã€‚
        <pre class=http><code translate="no">GET /index.html HTTP/1.1
Host: mozaic.fm


HTTP/1.1 200
Digest: mi-sha256-03=QoknwRIxGYJmcmv9frzldV13WWirCG5zY4DyU2eu5n8=
Content-Type: text/html; charset=utf-8
Content-Encoding: mi-sha256-03

&lt;!doctype html&gt;\r\n&lt;html&gt;...</code></pre>
      </section>
      <section>
        <h3 id="digest-header"><a href="#digest-header">Digest Header</a></h3>
        <p>Digest ãƒ˜ãƒƒãƒ€ã¯ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ãƒ€ã‚¤ã‚¸ã‚§ã‚¹ãƒˆãŒå«ã¾ã‚Œã‚‹ã€‚
        <p>ã“ã®å ´åˆ Digest ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯ Content-Encoding ã§æŒ‡å®šã•ã‚ŒãŸ <code translate="no">mi-sha256-03</code> ã¨ãªã£ã¦ã„ã‚‹ã€‚
        <p>ã“ã‚Œã¯ Merkle Integrity Content Encoding ã®ãƒ‰ãƒ©ãƒ•ãƒˆã‚’æŒ‡ã—ã¦ãŠã‚Šã€ä»•æ§˜ä¸Š <code translate="no">mi-sha256</code> ã¯å®Ÿè£…å¿…é ˆã¨ãªã£ã¦ã„ã‚‹ã€‚
        <p><a href="https://tools.ietf.org/html/draft-thomson-http-mice-03">draft-thomson-http-mice-03 - Merkle Integrity Content Encoding</a>
        <p>Digest ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯æ—¢ã«ã‚ã‚‹ãŒã€ãã‚Œã‚‰ã¯åŸºæœ¬çš„ã«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒå…¨ã¦æƒã‚ãªã„ã¨ Digest ã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ãŒã§ããªã„ã€‚ãã“ã§ã€ Partial Fragment ã”ã¨ã« Digest ãŒè¨ˆç®—ã§ãã‚‹ã‚ˆã†ã« Merkle Integrity ã‚’ç”¨ã„ãŸæ–¹æ³•ã¨ã—ã¦ææ¡ˆã•ã‚Œã¦ã„ã‚‹ã®ãŒã“ã®ä»•æ§˜ã ã€‚
      </section>
      <section>
        <h3 id="signature-header"><a href="#signature-header">Signature Header</a></h3>
        <p>Signature Header ã¯ã€å®Ÿéš›ã®ç½²åãŠã‚ˆã³é–¢é€£ã™ã‚‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒå«ã¾ã‚Œã‚‹ã€‚
        <ul>
          <li>sig: ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ãƒ˜ãƒƒãƒ€ã‚’å«ã‚“ã ç½²å
          <li>integrity: ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å®Œå…¨æ€§ã‚’ä¿è¨¼ã™ã‚‹ãƒ€ã‚¤ã‚¸ã‚§ã‚¹ãƒˆã‚’å«ã‚€ãƒ˜ãƒƒãƒ€ã®åå‰ã¨ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®çµ„
          <li>cert-url: è¨¼æ˜æ›¸ã¸ã® URL
          <li>cert-sha256: cert-url ã§å–å¾—ã—ãŸè¨¼æ˜æ›¸ãƒã‚§ãƒ¼ãƒ³ã®æœ€åˆã®è¨¼æ˜æ›¸ã® sha256 ãƒãƒƒã‚·ãƒ¥
          <li>ed25519key: Ed25519 å…¬é–‹éµ
          <li>validity-url: è¨¼æ˜æ›¸ã®æœŸé™ãŒåˆ‡ã‚ŒãŸå¾Œã«ã€æ–°ã—ã„è¨¼æ˜æ›¸ã‚’å–å¾—ã™ã‚‹æ–¹æ³•ãŒå¾—ã‚‰ã‚Œã‚‹ URL
          <li>date: ç”Ÿæˆæ™‚é–“ã® Unixtime
          <li>expires: æœŸé™æ™‚é–“ã® Unixtime
        </ul>
        <pre class=http><code translate="no">Signature: label;
  sig=*MEUCICiUdi2JhgJwmzPfWu8PVIC/eBOeHMkAcUN5aetK9PxZAiEAgOF6IajUh6TIHYLZk7cin1bLXLKc6jkKA6RIR6cJOEE=*;
  integrity=&quot;digest/mi-sha256-03&quot;;
  cert-url=&quot;https://labs.jxck.io/webpackaging/signed-http-exchange-b2/cert.cbor&quot;;
  cert-sha256=*Wiqh2cLTl2rVqZCuAH0OBJoXs7ZRv4w9aV771Balils=*;
  validity-url=&quot;https://labs.jxck.io/webpackaging/signed-http-exchange-b2/validity-data&quot;;
  date=1543482268;
  expires=1543568668</code></pre>
        <p>åŸºæœ¬ã¯ sig ã®å€¤ã‚’ cert-url ã«ã‚ã‚‹è¨¼æ˜æ›¸ãƒã‚§ãƒ¼ãƒ³ã§æ¤œè¨¼ã™ã‚‹ã“ã¨ã«ãªã‚‹ã€‚
        <p>cert-url ã®è¨¼æ˜æ›¸ãŒ Expire ã—ãŸå ´åˆã¯ã€æ–°ãŸãªã‚‹è¨¼æ˜æ›¸ã‚’ validity-url ã«å¯¾ã—ã¦å–å¾—ã—ã«è¡Œãã€‚
        <p>ã™ã‚‹ã¨æ–°ãŸãªã‚‹ Signature ã®å€¤ãŒå–å¾—ã§ãã€åŒã˜ label (ã“ã“ã§ã¯ <code translate="no">label</code>) ã®å€¤ã‚’ç½®ãæ›ãˆã‚‹ã€‚
        <p>ã“ã‚Œã«ã‚ˆã‚Šã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒãã®ã¾ã¾åˆ©ç”¨ã§ãã‚‹å ´åˆã¯ã€ç½²åã®ã¿ã‚’æ›´æ–°ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã«ãªã‚‹ã€‚
        <p>update ã¯ã€æ–°ãŸãªã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒã‚ã‚‹å ´åˆã«ã€ãã®ã‚µã‚¤ã‚ºã‚’ç¤ºã—ã¦ã„ã‚‹ã€‚
        <p>ã‚‚ã— signature ãŒç„¡ãã€ update ã—ã‹ãªã„å ´åˆã¯ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æ›´æ–°ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚
        <p>ä¸¡æ–¹å­˜åœ¨ã™ã‚‹å ´åˆã¯ã€ update ã® size ãªã©ã‚’è€ƒæ…®ã—ã¦ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç¶™ç¶šåˆ©ç”¨ã™ã‚‹ã‹æ›´æ–°ã™ã‚‹ã‹ã‚’é¸ã¹ã‚‹ã€‚
        <pre class=http><code translate="no">{
  &quot;signatures&quot;: [
    &#39;label; &#39;
    &#39;sig=*MEQCIC/I9Q+7BZFP6cSDsWx43pBAL0ujTbON/+7RwKVk+ba5AiB3FSFLZqpzmDJ0NumNwN04pqgJZE99fcK86UjkPbj4jw; &#39;
    &#39;validity-url&#39;=&quot;https://labs.jxck.io/webpackaging/signed-http-exchange-b2/cert.cbor&quot;;
    &#39;integrity&#39;=&quot;digest/mi-sha256-03&quot;;
    &#39;cert-url&#39;=&quot;https://labs.jxck.io/webpackaging/signed-http-exchange-b2/cert.cbor&quot;;
    &#39;certSha256=*J/lEm9kNRODdCmINbvitpvdYKNQ+YgBj99DlYp4fEXw; &#39;
    &#39;date=1511733180; expires=1512337980&#39;
  ],
  &quot;update&quot;: {
    &quot;size&quot;: 5557452
  }
}</code></pre>
      </section>
    </section>
    <section>
      <h2 id="èª²é¡Œ"><a href="#èª²é¡Œ">èª²é¡Œ</a></h2>
      <p>SignedHTTPExchange ã¯ã¾ã ã„ãã¤ã‹ã®èª²é¡ŒãŒã‚ã‚‹ã€‚ç­†è€…ãŒæŠŠæ¡ã—ã¦ã„ã‚‹ç¯„å›²ã§è¨˜éŒ²ã™ã‚‹ã€‚
      <section>
        <h3 id="offline-å¯¾å¿œ"><a href="#offline-å¯¾å¿œ">offline å¯¾å¿œ</a></h3>
        <p>ç¾æ™‚ç‚¹ã§ã¯ certURL ã¨ validitiURL ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€ç½²åã‚’æ¤œè¨¼ã§ããªã‘ã‚Œã°ã„ã‘ãªã„ã€‚
        <p>ã¤ã¾ã‚Šã€ sxg è‡ªä½“ãŒã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã§å…±æœ‰ã§ãã¦ã‚‚ã€ç½²åæ¤œè¨¼ãŒ offline ã§å®Ÿæ–½ã§ããªã„ã€‚
        <p>ã“ã‚Œã«ã¤ã„ã¦ã¯ã€ã¾ã ä½œæ¥­ä¸­ã ã¨èªè­˜ã—ã¦ã„ã‚‹ã€‚
      </section>
      <section>
        <h3 id="cansignhttpexchanges"><a href="#cansignhttpexchanges">CanSignHttpExchanges</a></h3>
        <p>Mozilla ã¯å°‘ã—å‰ã« Standard Position ã®ä¸­ã§ã€ Signed HTTP Exchange ã‚’ considered harmful ã¨è¡¨æ˜ã—ãŸã€‚
        <ul>
          <li><a href="https://mozilla.github.io/standards-positions/">https://mozilla.github.io/standards-positions/</a>
        </ul>
        <p>ç°¡å˜ã«è¨€ãˆã°ã€è¨¼æ˜æ›¸ãŒæ¼æ´©ã—ãŸå ´åˆã€ãã‚Œã‚’å–å¾—ã—ãŸæ”»æ’ƒè€…ã¯è‡ªç”±ã« Origin ã‚’èªã‚Œã‚‹ã¨ã„ã†ã“ã¨ã«å¯¾ã™ã‚‹æ‡¸å¿µã«ã‚ˆã‚‹ã‚‚ã®ã ãŒã€ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹è‡ªä½“ã¯èªã‚ã¦ãŠã‚Šã€ä»•æ§˜ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¢ãƒ‡ãƒ«ãŒæ”¹å–„ã™ã‚Œã°ã€ã“ã®è¡¨æ˜ã¯è¦‹ç›´ã•ã‚Œã‚‹ã ã‚ã†ã¨è€ƒãˆã‚‰ã‚Œã‚‹ã€‚
        <p>å…·ä½“çš„ã«ã¯ã€ã‚µãƒ¼ãƒãŒåˆ©ç”¨ã™ã‚‹ HTTPS ç”¨ã®è¨¼æ˜æ›¸ã‚’ãã®ã¾ã¾ sxg ã®ç½²åã«ä½¿ã†ã¨ã„ã£ãŸã€é‹ç”¨ã®å¤‰æ›´ã®éš™é–“ã«ã€æ¼æ´©ã®æ‡¸å¿µãŒç”Ÿã¾ã‚Œã‚‹ãŸã‚ã€åŸºæœ¬çš„ã«ã¯ HTTPS ã¨ã¯åˆ¥ã®è¨¼æ˜æ›¸ã‚’ç”¨æ„ã•ã›ã‚‹æ–¹ãŒå®‰å…¨ã ã‚ã†ã¨ã„ã†è­°è«–ã«ãªã£ã¦ã„ã‚‹ã€‚
        <p>çµæœã€ sxg ã«ã¯ã€Œæ—¢å­˜ã®è¨¼æ˜æ›¸ã‚’åˆ©ç”¨ã•ã›ãªã„ã€ãŸã‚ã«ã€æ–°ã—ã„æ‹¡å¼µã‚’å®šç¾©ã—ã€ãã®æ‹¡å¼µãŒå…¥ã£ãŸã‚‚ã®ã§ãªã‘ã‚Œã°åˆ©ç”¨ã§ããªã„ã‚ˆã†ã«ä»•æ§˜ã‚’å¤‰æ›´ã—ãŸã€‚ã“ã“ã§ X.509 ã®æ‹¡å¼µã¨ã—ã¦å°å…¥ã•ã‚ŒãŸã®ãŒ CanSignHttpExchanges ã§ã‚ã‚‹ã€‚
        <p>ç¾æ™‚ç‚¹ã§ã€ã“ã®æ‹¡å¼µã«å¯¾å¿œã—ãŸè¨¼æ˜æ›¸ã‚’ç™ºè¡Œã™ã‚‹ CA ã¯ã€ç¾æ™‚ç‚¹ã§ã¯ DigiCert ã®ã¿ã ã€‚
        <ul>
          <li><a href="https://www.digicert.com/account/ietf/http-signed-exchange.php">Adding CanSignHttpExchanges Extension :: DigiCert</a>
        </ul>
        <p>DigiCert ã®è¨¼æ˜æ›¸ã¯ã‚‚ã¡ã‚ã‚“æœ‰æ–™ã§ã‚ã‚‹ãŸã‚ã€ç„¡æ–™ã§è©¦ã™ã«ã¯è‡ªå·±è¨¼æ˜æ›¸ã—ã‹ãªã„ã€‚
        <p>Let&rsquo;s Encrypt ã‚„ä»–ã®å•†ç”¨ CA ãŒã©ã®ç¨‹åº¦ã“ã®æ‹¡å¼µã«å¯¾å¿œã™ã‚‹ã®ã‹ã¯æœªå®šã ãŒã€å€‹äººçš„ã«ã¯ Let&rsquo;s Encrypt ã«æœŸå¾…ã—ãŸã„ã€‚
        <p>ã¾ãŸã€ã“ã®æ‹¡å¼µã«ã‚ˆã£ã¦ã€æ—¢å­˜ã®ç™ºè¡Œæ¸ˆè¨¼æ˜æ›¸ã¯ sxg ã§ã¯ä½¿ãˆãªã„ãŒã€é€†ã« CanSignHttpExchanges ãŒã‚ã‚‹è¨¼æ˜æ›¸ãŒã‚µã‚¤ãƒˆã® HTTPS åŒ–ã®ãŸã‚ã®è¨¼æ˜æ›¸ã¨ã—ã¦ä½¿ãˆãªã„ã‹ã¨è¨€ã†ã¨ã€ãã†ã§ã¯ãªã„ã¨ã„ã†ç†è§£ã ã€‚
        <p>ã¤ã¾ã‚Š Let&rsquo;s Encrypt ã§ç™ºè¡Œã—ãŸè¨¼æ˜æ›¸ãŒæ‹¡å¼µã‚’å«ã‚€ã¨ã€åˆ©ä¾¿æ€§ã®è¦³ç‚¹ã‹ã‚‰ HTTPS / sxg ä¸¡æ–¹ã«ä½¿ã‚ã‚Œã‚‹ã¨æ€ã†ãŒã€ãã®ãƒªã‚¹ã‚¯ã¯é‹ç”¨å´ã¨ã„ã†ã“ã¨ã«ãªã‚‹ã€‚
        <p>CanSignHttpExchanges ãŒã‚ã‚‹è¨¼æ˜æ›¸ã¯ã€ HTTPS ã®ãŸã‚ã«ä½¿ãˆãªã„ã‚ˆã†ãªã‚µãƒ¼ãƒã®å®Ÿè£…ãŒæ™®åŠã™ã‚‹ã®ã‹ã€å˜ã«å•“è’™ã¨ã—ã¦ä½µç”¨ã®æŠ‘æ­¢ã‚’è¨´ãˆã‚‹ã®ã‹ã€ãªã©ã¨ã„ã£ãŸæµã‚Œã¯ã€ã¾ã æŠŠæ¡ã§ãã¦ãªã„ã®ã§ã€æ™®åŠãƒ•ã‚§ãƒ¼ã‚ºã«å…¥ã£ãŸã‚‰æ³¨è¦–ã—ãŸã„ã€‚
      </section>
      <section>
        <h3 id="access-log"><a href="#access-log">Access Log</a></h3>
        <p>Physical URL ã¨ Logical URL ãŒåˆ†é›¢ã•ã‚ŒãŸã“ã¨ã«ã‚ˆã‚Šã€å®Ÿéš›ã«ã‚ªãƒªã‚¸ãƒ³ã‚µãƒ¼ãƒã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹å¿…è¦ãŒç„¡ããªã‚‹ã€‚
        <p>ã“ã‚Œã¯åŒæ™‚ã«ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°ãŒã‚ªãƒªã‚¸ãƒ³ã‚µãƒ¼ãƒã§åé›†ã§ããªããªã‚‹ã“ã¨ã‚’æ„å‘³ã™ã‚‹ã€‚
        <p>sxg ã‚’ä»£ç†é…ä¿¡ã™ã‚‹ CDN ãŒãƒ­ã‚°ã‚’æä¾›ã™ã‚‹ãªã‚‰è‰¯ã„ãŒã€ç¾çŠ¶ã®ä»•æ§˜ã§ã¯é…å¸ƒã™ã‚‹ CDN ã‚’åˆ¶é™ã™ã‚‹ã“ã¨ã¯å‡ºæ¥ãªã„ã‚ˆã†ã«æ€ã†ã€‚
        <p>ã—ãŸãŒã£ã¦ã€é‡è‰¯ CDN ã‚„å˜ç´”ãªãƒ•ã‚¡ã‚¤ãƒ«å…±æœ‰ãªã©ã§è¡¨ç¤ºã•ã‚ŒãŸå ´åˆã¯å®Œå…¨ã«åé›†ã™ã‚‹ã“ã¨ã¯å‡ºæ¥ãªã„ã ã‚ã†ã€‚
        <p>ç½²åã‚’æ¤œè¨¼ã™ã‚‹éš›ã«ã€ cert_url ã‚„ validity_url ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ãŒç™ºç”Ÿã™ã‚‹ãŸã‚ã«ã€ã“ã“ã«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å«ã‚€ã“ã¨ã§åé›†ã§ããã†ãªæ°—ã‚‚ã™ã‚‹ãŒã€ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œã‚„ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ã®ãŸã‚ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ä»•çµ„ã¿ãŒå…¥ã‚‹ã ã‚ã†ã“ã¨ã‚’è€ƒãˆã‚‹ã¨é›£ã—ãã†ã ã€‚
        <p>ã“ã‚Œã¯ã€å¾“æ¥ã® AMP ã§ã‚‚ç™ºç”Ÿã—ã¦ã„ãŸã“ã¨ãªã®ã§ã€åŒæ§˜ã«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„è‡ªä½“ã« Analytics ã‚’å°å…¥ã™ã‚‹ã‹ã€è‡ªå‰ã§ <code translate="no">&lt;img&gt;</code> ã‚„ Beacon ã‚’ç”¨ã„ãŸåé›†è¡Œã‚ã‚Œã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã€‚
        <p>ç­†è€…ã¯ã€ <a href="https://discourse.wicg.io/t/proposal-html-ping-for-navigation/2839">Navigation æ™‚ã« Reporting ã§ Ping ã‚’è¡Œã†ã‚ˆã†ãªä»•æ§˜</a> ãŒã‚ã‚Œã° Opt-Out ã‚‚å¯èƒ½ãªçŠ¶æ…‹ã§ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°åé›†ãŒã§ãã‚‹ã®ã§ã¯ã¨æ€ã£ã¦ã„ã‚‹ã€‚
      </section>
      <section>
        <h3 id="validity-url-ã®é‹ç”¨"><a href="#validity-url-ã®é‹ç”¨">Validity URL ã®é‹ç”¨</a></h3>
        <p>ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒæ›´æ–°ã•ã‚ŒãŸå ´åˆã«ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚ŒãŸ sxg ã‚’æ›´æ–°ã•ã›ã‚‹ãŸã‚ã«ã€ Certificate ã«æœ‰åŠ¹æœŸé™ã‚’è¨­ã‘ã‚‹ä»•æ§˜ã«ãªã£ã¦ã„ã‚‹ã€‚
        <p>ãã—ã¦ã€æœŸé™ãŒåˆ‡ã‚ŒãŸå ´åˆã« Validity URL ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ã§ã€æ–°ãŸãª Certificate ã ã‘ã‚’å–å¾—ã—ã¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯ç¶™ç¶šã—ã¦ä½¿ã†ã‹ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãã®ã‚‚ã®ã‚’æ›´æ–°ã™ã‚‹ã‹ã‚’é¸æŠã•ã›ã‚‹ã€‚
        <p>ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒé »ç¹ã«æ›´æ–°ã™ã‚‹ã®ã¯ sxg ã®ãƒ¡ãƒªãƒƒãƒˆã‚’æã­ã‚‹ãŸã‚ã€ãªã‚‹ã¹ããªã‚‰ç¶™ç¶šã—ã¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ä½¿ã‚ã›ãŸã„ã®ãŒæ™®é€šã ã‚ã†ã€‚
        <p>ã—ã‹ã—ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ¸ˆã¿ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«ãƒã‚°ãªã©ãŒã‚ã£ãŸå ´åˆã¯ã€ã§ãã‚‹ã ã‘ç´ æ—©ãæ›´æ–°ã‚’ã—ã¦æ¬²ã—ã„ã€‚
        <p>ã¤ã¾ã‚Šã€å¾“æ¥ã®æ™‚é–“ãƒ™ãƒ¼ã‚¹ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ˜ãƒƒãƒ€ã ã‘ã§ãªãã€è¨¼æ˜æ›¸ã‚‚å«ã‚ã¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒã‚¹ã‚’ç®¡ç†ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã ã€‚
        <p>æ¤œè¨¼ã«å¤±æ•—ã—ãŸã‚‰ã€å®Ÿéš›ã«ã‚ªãƒªã‚¸ãƒ³ã‚µãƒ¼ãƒã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã ã‘ãªã®ã§ã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ã‚ã£ãŸã‚Šã€ AMP ã®ã‚ˆã†ã«ã€é™çš„ãªä½œã‚Šã«é™å®šã™ã‚‹ã®ã§ã‚ã‚Œã°ã€ã¾ã å•é¡Œã¯å°‘ãªãã†ã ã€‚
        <p>ã—ã‹ã—ã€ PWA ã®ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®ã‚ˆã†ãªç”¨é€”ã§åˆ©ç”¨ãŒå§‹ã¾ã‚‹ã¨è€ƒãˆã‚‹ã“ã¨ãŒå¢—ãˆãã†ã ã€‚
        <p>ãã®è¾ºã¯ã€ã¾ã£ãŸãæƒ³åƒã§ãã¦ãªã„ã®ã§ã€ä»Šå¾Œè€ƒãˆã¦ã„ããŸã„ã€‚
      </section>
    </section>
    <section>
      <h2 id="æœ¬ã‚µã‚¤ãƒˆã¸ã®é©ç”¨"><a href="#æœ¬ã‚µã‚¤ãƒˆã¸ã®é©ç”¨">æœ¬ã‚µã‚¤ãƒˆã¸ã®é©ç”¨</a></h2>
      <p>ã“ã®è¨˜äº‹ã‚’æ›¸ãå§‹ã‚ãŸæ™‚ã¯ã€ DigiCert ã§è¨¼æ˜æ›¸ã‚’è²·ã£ã¦å…¨ãƒšãƒ¼ã‚¸ã® SXG ã‚’é…å¸ƒã—ã‚ˆã†ã¨è€ƒãˆã¦ã„ãŸãŒã€ä»¥ä¸‹ã®ç†ç”±ã‹ã‚‰è¦‹é€ã£ãŸã€‚
      <ul>
        <li>è¨¼æ˜æ›¸ãŒã¡ã‚‡ã£ã¨é«˜ã„(ä¸€ç•ªã®ç†ç”±)
        <li>Validity URL ã‚’ã©ã†ã™ã‚‹ã®ã‹ã‚ˆãã‚ã‹ã‚‰ãªã„
        <li>expire ãŒçŸ­æ™‚é–“ã—ã‹è¨­å®šã§ããªã„ãŸã‚ã€ç¶™ç¶šã—ãŸé…å¸ƒã‚’ã©ã†ã™ã‚‹ã‹è€ƒãˆã¦æ‰‹ã‚’å…¥ã‚Œã‚‹å¿…è¦ãŒã‚ã‚‹
        <li>ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°ã®é›†ã‚æ–¹ãŒå®šã¾ã£ã¦ãªã„
        <li>etc
      </ul>
      <p>å…¨éƒ¨è§£æ±ºã™ã‚‹ã¾ã§ãƒ–ãƒ­ã‚°ã®å…¬é–‹ã‚’é…ã‚‰ã›ã‚‹ã¨ã„ã¤ã«ãªã‚‹ã‹ã‚ã‚‰ãªã„ã®ã§ã€ãƒ‡ãƒ¢ã ã‘ä½œã‚Šå…ˆã«è¨˜äº‹ã‚’å…¬é–‹ã™ã‚‹ã“ã¨ã¨ã—ãŸã€‚
      <p>å¼•ãç¶šãè‰²ã€…è€ƒãˆã€å®Ÿè£…ãŒã§ããŸã‚‰æœ¬ã‚µã‚¤ãƒˆã«é©ç”¨ã—ãŸã„ã€‚
    </section>
    <section>
      <h2 id="link"><a href="#link">Link</a></h2>
      <ul>
        <li>
          draft-yasskin-http-origin-signed-responses-04 - Signed HTTP Exchanges
          <ul>
            <li><a href="https://tools.ietf.org/html/draft-yasskin-http-origin-signed-responses-04">https://tools.ietf.org/html/draft-yasskin-http-origin-signed-responses-04</a>
          </ul>
        </li>
        <li>
          draft-yasskin-wpack-bundled-exchanges-00 - Bundled HTTP Exchanges
          <ul>
            <li><a href="https://tools.ietf.org/html/draft-yasskin-wpack-bundled-exchanges-00">https://tools.ietf.org/html/draft-yasskin-wpack-bundled-exchanges-00</a>
          </ul>
        </li>
        <li>
          Loading Signed Exchanges
          <ul>
            <li><a href="https://wicg.github.io/webpackage/loading.html">https://wicg.github.io/webpackage/loading.html</a>
          </ul>
        </li>
        <li>
          Signed HTTP Exchanges | Web | Google Developers
          <ul>
            <li><a href="https://developers.google.com/web/updates/2018/11/signed-exchanges">https://developers.google.com/web/updates/2018/11/signed-exchanges</a>
          </ul>
        </li>
        <li>
          Signed Exchanges Â· Issue #235 Â· w3ctag/design-reviews
          <ul>
            <li><a href="https://github.com/w3ctag/design-reviews/issues/235">https://github.com/w3ctag/design-reviews/issues/235</a>
          </ul>
        </li>
        <li>
          draft-yasskin-httpbis-origin-signed-exchanges-impl-02 - Signed HTTP Exchanges Implementation Checkpoints
          <ul>
            <li><a href="https://tools.ietf.org/html/draft-yasskin-httpbis-origin-signed-exchanges-impl-02">https://tools.ietf.org/html/draft-yasskin-httpbis-origin-signed-exchanges-impl-02</a>
            <li><a href="https://lists.w3.org/Archives/Public/ietf-http-wg/2018JanMar/att-0212/HTTP_Signed_Exchange_side_meeting_notes.txt">https://lists.w3.org/Archives/Public/ietf-http-wg/2018JanMar/att-0212/HTTP_Signed_Exchange_side_meeting_notes.txt</a>
            <li><a href="https://lists.w3.org/Archives/Public/ietf-http-wg/2018JanMar/att-0212/HTTP_Signed_Exchange_side_meeting_notes.txt">https://lists.w3.org/Archives/Public/ietf-http-wg/2018JanMar/att-0212/HTTP_Signed_Exchange_side_meeting_notes.txt</a>
          </ul>
        </li>
        <li>
          Intent to Implement: Origin-Signed HTTP Exchanges (Part of Web Packaging)
          <ul>
            <li><a href="https://groups.google.com/a/chromium.org/forum/#!msg/blink-dev/n7cZXSTwBTY/l7rXucIwBAAJ">https://groups.google.com/a/chromium.org/forum/#!msg/blink-dev/n7cZXSTwBTY/l7rXucIwBAAJ</a>
          </ul>
        </li>
        <li>
          Intent to Experiment: Signed HTTP Exchanges
          <ul>
            <li><a href="https://groups.google.com/a/chromium.org/forum/#!msg/blink-dev/MKHe54W996c/1E51GLbvAQAJ">https://groups.google.com/a/chromium.org/forum/#!msg/blink-dev/MKHe54W996c/1E51GLbvAQAJ</a>
          </ul>
        </li>
        <li>
          WICG/webpackage: Web packaging format
          <ul>
            <li><a href="https://github.com/WICG/webpackage">https://github.com/WICG/webpackage</a>
          </ul>
        </li>
        <li>
          sxg/ - Code Search
          <ul>
            <li><a href="https://cs.chromium.org/chromium/src/content/test/data/sxg/">https://cs.chromium.org/chromium/src/content/test/data/sxg/</a>
          </ul>
        </li>
        <li>
          Web OverPackaging
          <ul>
            <li><a href="https://speakerdeck.com/jxck/web-over-packaging">https://speakerdeck.com/jxck/web-over-packaging</a>
          </ul>
        </li>
      </ul>
    </section>
  </article>
</main>
<hr>
<footer>
  <p class=copyright><small>Copyright &copy; 2016 <a href=/>Jxck</a>. All Rights Reserved.</small> See <small><a href=/policies/site.html>Site Policy</a> and <a href=/policies/privacy.html>Privacy Policy</a>.</small></p>
  <amp-ad width=100vw height=320 type=adsense data-ad-client=ca-pub-2902784829138215 data-ad-slot=9735419796 data-auto-format=rspv data-full-width><div overflow></div></amp-ad>
</footer>
</body>
</html>
<amp-analytics type=googleanalytics id=analytics1>
<script type="application/json">
{
  "vars": {
    "account": "UA-15088753-7"
  },
  "triggers": {
    "trackPageview": {
      "on": "visible",
      "request": "pageview"
    }
  }
}
</script>
</amp-analytics>