# URL ãƒãƒ¼ã®è¡¨ç¤ºã®å¤‰é·

## Intro

æœ€è¿‘ Chrome ã® URL ãƒãƒ¼ã‹ã‚‰ã€ EV è¨¼æ˜æ›¸ã®çµ„ç¹”è¡¨ç¤ºãŒæ¶ˆã•ã‚Œã‚‹ã‚¢ãƒŠã‚¦ãƒ³ã‚¹ãŒç™ºè¡¨ã•ã‚ŒãŸã€‚

æ€ãˆã°ã€ URL ãƒãƒ¼ã®è¦‹ãŸç›®ã‚‚ã€ã ã„ã¶å¤‰ã‚ã£ã¦ããŸã‚ˆã†ã«æ€ã†ã€‚

ä»Šå¾Œã¾ãŸä½¿ã†äºˆå®šãŒã‚ã‚‹ã®ã§ã€ URL ãƒãƒ¼ã®è¡¨ç¤ºã®å¤‰é·ã‚’ä¸€åº¦ã¾ã¨ã‚ã¦ãŠãã€‚

## URL ãƒãƒ¼ã®å†ç¾

æœ¬å½“ãªã‚‰å¤ã„ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚¹ã‚¯ã‚·ãƒ§ã‚’é›†ã‚ãŸã„ã¨ã“ã‚ã ã£ãŸãŒã€ã“ã‚Œã¯éå¸¸ã«é›£ã—ã„ã€‚

è©¦ã—ã«å¤ã„ Chromium ãƒ“ãƒ«ãƒ‰ã‚’ CI ã‹ã‚‰å–å¾—ã—ã¦ã¿ãŸãŒã€ä¸€å®šã‚ˆã‚Šå¤ã„ã‚‚ã®ã¯ã†ã¾ãé–‹ãã“ã¨ã™ã‚‰ã§ããªã‹ã£ãŸã€‚é–‹ãã“ã¨ãŒã§ããŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚‚ã‚ã£ãŸãŒã€ã©ã†ã‚„ã‚‰ãã‚Œã ã‘ã§ã¯å½“æ™‚ã® URL ãƒãƒ¼ã® UI ã¾ã§ã¯å†ç¾ã•ã‚Œãªã„ã‚ˆã†ã ã€‚ãã¡ã‚“ã¨å†ç¾ã—ã¦ã‚¹ã‚¯ã‚·ãƒ§ã‚’æ’®ã‚‹ã®ã¯é›£ã—ãã†ã ã€‚

ãƒãƒƒãƒˆã‚’æ¢ã›ã°è‰²ã€…è½ã¡ã¦ã‚‚ã„ã‚‹ãŒã€ãã†ã„ã†ã®ã‚’é›†ã‚ã¦ã‚‚ä½¿ã„å‹æ‰‹ã¯è‰¯ããªã„ã®ã§ã€è‡ªåˆ†ã§å†ç¾ã™ã‚‹ã“ã¨ã«ã—ãŸã€‚

ç”»åƒã¯ã€ã€Œç‰¹å®šã®ãƒ–ãƒ©ã‚¦ã‚¶ã§ã¯ãªãã€ä¸€èˆ¬çš„ãª URL ãƒãƒ¼ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã€ã¨ã„ã†æ„å‘³åˆã„ã§è¦‹ã¦æ¬²ã—ã„ã€‚


## åŸå§‹ã® URL ãƒãƒ¼

ã‚‚ã£ã¨ã‚‚åŸºæœ¬çš„ãª URL ãƒãƒ¼ã¯ã€è¡¨ç¤ºã—ã¦ã„ã‚‹ URL ã‚’ãã®ã¾ã¾è¡¨ç¤ºã™ã‚‹ã‚‚ã®ã ã£ãŸã¨è¨€ãˆã‚‹ã ã‚ã†ã€‚

```
TODO: [http://example.com]
```

ãã—ã¦ã€ HTTPS ãŒç™»å ´ã—ã¦ä»¥é™ã“ã“ã«ã€Œå®‰å…¨ã§ã‚ã‚‹ã€ã¨ã„ã†æ„å‘³åˆã„ã‚’è¿½åŠ ã™ã‚‹ UI ãŒä»˜ä¸ã•ã‚Œã‚‹ã€‚ä¸€èˆ¬çš„ã«éµã‚¢ã‚¤ã‚³ãƒ³ã¨å‘¼ã°ã‚Œã‚‹ã‚‚ã®ã ã€‚

```
TODO: [ğŸ”: https://example.com]
```

ã•ã‚‰ã«ã€ãã®è¨¼æ˜æ›¸ãŒ EV ã§ã‚ã‚Œã°ã€ç™ºè¡Œå…ˆã®çµ„ç¹”åãŒè¡¨ç¤ºã•ã‚ŒãŸã€‚

```
TODO: [ğŸ” Example, Inc: https://example.com]
```

Netscape ã‚„ IE5.5, 6 ã¨ã‹ã®ãƒ¬ãƒ™ãƒ«ã«ãªã‚‹ã¨ã€ã‚‚ã£ã¨ç•°ãªã‚‹ UI ã ã£ãŸã€‚ã“ã“ã‹ã‚‰å¾ã€…ã«å¤‰ã‚ã£ã¦ã„ãã®ã§ã€ä¸€èˆ¬ã«ã“ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒå®šç€ã—ãŸã®ãŒã„ã¤ã‹ã¨ã„ã†ã¨ã€æ–­å®šã¯é›£ã—ã„ã€‚

æ¨å®šã™ã‚‹ã¨ã€ Chrome ã¯ 2010 å¹´ã«ãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã€åˆæœŸã®ã“ã‚ã‹ã‚‰ã“ã® UI ã ã£ãŸã‚ˆã†ã«æ€ã†ã€‚ãšã£ã¨ç©ºã„ã¦ 2016 å¹´ã« Let's Encrypt ãŒå§‹ã¾ã‚‹ãŒã€ãã®æ™‚ç‚¹ã§ã¯ HTTPS ã®æ™®åŠç‡ã¯æ±ºã—ã¦é«˜ããªãã€é€†ã«éŠ€è¡Œãªã©ãŒ EV ã‚’å…¥ã‚Œã¦ã„ã¦ã€ŒéµãŒå‡ºã¦ã‚‹ã¨å®‰å…¨ã€ã€Œçµ„ç¹”åã®è¡¨ç¤ºã‚’ç¢ºèªã‚’ã€ã¿ãŸã„ãªå•“è’™ãŒãƒªãƒ†ãƒ©ã‚·ãƒ¼ã®é«˜ã„ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ã«å¯¾ã—ã¦è¡Œã‚ã‚Œã¦ã„ãŸã¨æ€ã†ã€‚

ã—ãŸãŒã£ã¦ã€ã“ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã®å®šç€ã¯ 2012~15 å¹´ãã‚‰ã„ã®é–“ã«ã€ä¸€èˆ¬ã«å®šç€ã—ã¦ã„ã£ãŸã¨æ€ã†ã€‚ IE ã§ã„ã†ã¨ 9,10 ãã‚‰ã„ã‹ã€‚

## HTTPS EveryWhere

HTTP ãŒå¤§åŠã§ã‚ã‚‹ä¸­ã«ã€ Advanced ãªã‚‚ã®ã¨ã—ã¦ HTTPS ãŒæä¾›ã•ã‚Œã¦ã„ãŸãŸã‚ã«ã€ãã‚Œã‚’ã€ŒSecureã€ã¨ãƒ©ãƒ™ãƒ«ä»˜ã™ã‚‹ã®ã¯ä¸€å®šã®ç´å¾—æ„ŸãŒã‚ã£ãŸã€‚

ãã®å¾Œã€ AT&T ãŒç„¡æ–™ WiFi ã§åºƒå‘Šã‚’å·®ã—è¾¼ã‚“ã ã‚Šã€ DigiNotor ãŒä¸æ­£ç™ºè¡Œã‚’ã‚„ã‚‰ã‹ã—ãŸã‚Šã€ã‚¨ãƒ‰ãƒ¯ãƒ¼ãƒ‰ã‚¹ãƒãƒ¼ãƒ‡ãƒ³ãŒå‘Šç™ºã—ãŸã‚Šãªã©ã®è‰²ã€…ãªç¤¾ä¼šã®å¤‰åŒ–ã§ HTTPS ã®é‡è¦æ€§ãŒå¢—ã—ã€ Let's Encrypt ã‚ãŸã‚Šã‹ã‚‰ä¸€æ°—ã«åºƒã¾ã£ãŸã€‚

ãã®çµæœå‰æãŒä»£ã‚ã‚Šã€ãã‚Œã«ä¼´ã„ URL ãƒãƒ¼ã®ãƒ‡ã‚¶ã‚¤ãƒ³ã‚‚å¤‰ã‚ã£ã¦ã„ãã“ã¨ã«ãªã‚‹ã€‚


## HTTP as Non Secure

HTTPS ãŒå‰æã®ä¸–ç•ŒãŒã§ãã‚‹ã¨ã€è¡¨ç¤ºã«éš›ã—ã¦ã‚‚å‰æãŒå¤‰ã‚ã£ã¦ãã‚‹ã€‚

HTTPS ã®ã„ã† "Secure" ã¯ã‚ãã¾ã§ã€Œé€šä¿¡ã®å®‰å…¨ã€ã§ã‚ã‚Šã€è¨¼æ˜æ›¸ã®ç™ºè¡Œã¯åŸºæœ¬çš„ã«ã€Œãã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æœ¬å½“ã«ä¿æŒã—ã¦ã„ã‚‹ã‹ + Î±ã€ã‚’åŸºæº–ã«è¡Œã‚ã‚Œã‚‹ã€‚

ãã®ã‚µã‚¤ãƒˆã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¾ã§å®‰å…¨ã‹ãªã©ã¨ã„ã†ã“ã¨ã¯ã€ãŸã¨ãˆ EV ã§ã‚ã£ã¦ã‚‚ä¿è¨¼ã¯ã—ã¦ãªã„ã€‚ã¤ã¾ã‚Šã€ "Secure" ã§ã‚ã‚ŠãªãŒã‚‰ãƒ•ã‚£ãƒƒã‚·ãƒ³ã‚°ã‚µã‚¤ãƒˆã§ã‚ã‚‹å¯èƒ½æ€§ã‚‚ã‚ã‚‹ã€‚

ã—ã‹ã—ã€å¤šãã®ãƒ¦ãƒ¼ã‚¶ã¯éµã‚¢ã‚¤ã‚³ãƒ³ã®æ„å‘³ã‚’ãã®ã‚ˆã†ã«ã¯ç†è§£ã—ã¦ãŠã‚‰ãšã€




## Removing EV Badge



ã¾ãŸã€ EV è¨¼æ˜æ›¸ã®ç™ºè¡Œã‚‚ã€åŸºæœ¬ã¯çµ„ç¹”ã®å®Ÿåœ¨ãªã©ã®ãƒã‚§ãƒƒã‚¯(ãƒšãƒ¼ãƒ‘ãƒ¼ã‚«ãƒ³ãƒ‘ãƒ‹ãƒ¼ã§ã¯ãªã„ã‹)ã§ã‚ã‚Šã€ãã®è¦ä»¶ã‚’æº€ãŸã›ã°å–å¾—ã§ãã‚‹ã€‚ã¾ãŸã€ã‚¢ãƒ¡ãƒªã‚«ãªã©ã§ã¯å·ã”ã¨ã«åŒã˜ç¤¾åã®ä¼šç¤¾ãŒä½œã‚Œã‚‹(?)ã¨ã‹ã§ã€å®Ÿéš›ã« Stripe ã¨åŒã˜çµ„ç¹”åãŒè¡¨ç¤ºã•ã‚Œã‚‹ EV è¨¼æ˜æ›¸ã‚’å–å¾—ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã‚ã‚‹ã“ã¨ãŒå®Ÿè¨¼ã•ã‚ŒãŸã‚Šã‚‚ã—ãŸã€‚

çµæœã€EV è¨¼æ˜æ›¸ã®çµ„ç¹”åã¯ã€è¡¨ç¤ºã™ã‚‹æ–¹ãŒã‚€ã—ã‚è‰¯ããªã„ã®ã§ã¯ãªã„ã‹ã¨ã„ã†è«–èª¿ãŒç‰¹ã«ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç ”ç©¶è€…å‘¨ã‚Šã§ 2017 å¹´ãã‚‰ã„ã‹ã‚‰å¼·ã¾ã£ãŸã€‚

- On the value of EV
  - https://groups.google.com/g/mozilla.dev.security.policy/c/szD2KBHfwl8/m/kWLDMfPhBgAJ

çµæœã€ 2019 å¹´ã« Chrome ã¨ Firefox ãŒ EV ã®çµ„ç¹”åè¡¨ç¤ºã‚’æ¶ˆã™ã¨ç™ºè¡¨ã—ã€ EV ã¯ä»–ã®è¨¼æ˜æ›¸ã¨åŒã˜æ‰±ã„ã«ãªã£ãŸã€‚

- Upcoming Change to Chrome's Identity Indicators
  - https://groups.google.com/a/chromium.org/forum/#!topic/security-dev/h1bTcoTpfeI
  - https://chromium.googlesource.com/chromium/src/+/HEAD/docs/security/ev-to-page-info.md
  - EV ãƒãƒƒã‚¸ã‚’ Omnibox ã‹ã‚‰æ¶ˆã—ã¦ã€ Site Info ã«ç§»ã™è©±


- Ship: Move Extended Validation Information out of the URL bar
https://groups.google.com/forum/#!msg/mozilla.dev.platform/o18n0SZRyUE/bsbGzuO6AQAJ
  - Chrome ã®å‹•ãã‚’å—ã‘ã¦ Firefox ã‚‚ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼ã§ã® EV è¡¨ç¤ºã‚’ã‚„ã‚ã‚‹æµã‚Œã«
  - ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã«ã¯å‰ã‹ã‚‰çµ„ç¹”åãŒå‡ºã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹
  - ä¸¦è¡Œã—ã¦éµã‚¢ã‚¤ã‚³ãƒ³ã®ç·‘è‰²ã‚’ç°è‰²ã«ã™ã‚‹ãƒ‘ãƒƒãƒã‚‚æŠ•å…¥
  - Firefox 70 ã‹ã‚‰











- Google Online Security Blog: Moving towards a more secure web
  - https://security.googleblog.com/2016/09/moving-towards-more-secure-web.html
  - é•·æœŸçš„ãª secure -> not secure ã®æµã‚Œã®é–‹å§‹åœ°ç‚¹
  - https://developer.chrome.com/blog/avoid-not-secure-warn/

- (2018/05: M70)
- Chromium Blog: Evolving Chrome's security indicators
https://blog.chromium.org/2018/05/evolving-chromes-security-indicators.html
  - HTTP ãƒšãƒ¼ã‚¸ã‚’ Insecure ã¨è¡¨ç¤ºã™ã‚‹
  - HTTPS ãƒšãƒ¼ã‚¸ã‚’ Secure ã¨ã¯è¡¨ç¤ºã—ãªããªã‚‹
  - 
  - Chrom 70 ã‹ã‚‰ HTTPS ã‚’ç·‘ã«ã™ã‚‹ã®ã§ã¯ãªãã€ HTTP ã‚’èµ¤(form input æ™‚)ã«ã™ã‚‹
  - Marking HTTP As Non-Secure
    - https://www.chromium.org/Home/chromium-security/marking-http-as-non-secure/
  -  Google Online Security Blog: A secure web is here to stay
    - https://security.googleblog.com/2018/02/a-secure-web-is-here-to-stay.html

## ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ã¿ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚‹(2020/08: M86)

- Chromium Blog: Helping people spot the spoofs: a URL experiment(2020/08: M86)
  - https://blog.chromium.org/2020/08/helping-people-spot-spoofs-url.html
  - ãƒ¦ãƒ¼ã‚¶ãŒ URL ã‚’æ­£ã—ãç†è§£ã—ã¦ã„ã‚‹ã‚ã‘ã§ã¯ãªã„
  - ãƒ•ã‚£ãƒƒã‚·ãƒ³ã‚°å¯¾ç­–ã®ãŸã‚ã«ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ã®é‡è¦ãªéƒ¨åˆ†(eTLD+1)ã‚’è¦–è¦šçš„ã«å¼·èª¿ã™ã‚‹
  - Chrome86 ã‹ã‚‰
  - https:// ã‚„ www ã‚’æ¶ˆã™

- Chromium Blog: Increasing HTTPS adoption(2021/07: M94)
  - https://blog.chromium.org/2021/07/increasing-https-adoption.html
  - HTTPS First ãƒ¢ãƒ¼ãƒ‰ã‚’ M94 ã‹ã‚‰å°å…¥ã— HSTS ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãªçŠ¶æ…‹ã«
  - èª¿æŸ»ã®çµæœãƒ­ãƒƒã‚¯ã‚¢ã‚¤ã‚³ãƒ³ã¯æ¥ç¶šãŒå®‰å…¨ãªã ã‘ã§ã‚ã‚‹ã¨ã„ã†ã“ã¨ãŒæ­£ã—ãä¼ã‚ã£ã¦ãªã„
    - https://research.google/pubs/pub45366/
  - Lock icon ã‚’ã‚„ã‚ã¦ã‚ˆã‚Šãƒ‹ãƒ¥ãƒ¼ãƒˆãƒ©ãƒ«ãªã‚¢ã‚¤ã‚³ãƒ³ã«
  

Chromium Blog: An Update on the Lock Icon
https://blog.chromium.org/2023/05/an-update-on-lock-icon.html




## EV ãƒãƒƒã‚¸





- TLS: browser UI â€” Anneâ€™s Blog
  - https://annevankesteren.nl/2014/10/tls-browser-ui
  - Anne ãŒ 2014 ã‹ã‚‰æ›¸ã„ã¦ãŸ

Firefox 70 Address Bar Gets New Security Indicators, Shames Insecure Sites
https://www.bleepingcomputer.com/news/security/firefox-70-address-bar-gets-new-security-indicators-shames-insecure-sites/



Chromium Docs - Guidelines for URL Display
https://chromium.googlesource.com/chromium/src/+/HEAD/docs/security/url_display_guidelines/url_display_guidelines.md