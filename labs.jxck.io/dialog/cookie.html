<!doctype html>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Cookie Dialog DEMO | labs.jxck.io</title>

<h1>Cookie Dialog DEMO</h1>

<style>
  :root {
    font-family: sans-serif;
    color: #333;
    --duration: 0.4s;
  }

  dialog {
    width: 300px;
    position: absolute;
    top: auto;
    right: 1%;
    bottom: 1%;
    left: auto;

    margin: 0;
    padding: 2rem;
    
    border: solid 1px #ccc;
    border-radius: 2%;
    color: #333;

    section {
      display: flex;
      flex-direction: column;
      gap: 1rem;

      h1, p {
        margin: 0;
      }

      form[method=dialog] {
        display: flex;
        justify-content: flex-end;
        gap: 1rem;

        button {
          border: none;
          padding: 0.4rem 2rem;
          border-radius: 4px;
          border: solid 1px #ccc;
          color: white;
        }

        button[value=accept] {
          background-color: #007FFF;
        }

        button[value=reject] {
          background-color: #666;
        }
      }
    }

    /* transition style */
    dialog:not([open]) {
      opacity: 0;
      transition: 
        display var(--duration) allow-discrete, 
        overlay var(--duration) allow-discrete, 
        opacity var(--duration);
    }
  }
</style>

<button id="showModal">dialog.showModal()</button>

<dialog aria-labelledby="dialog-label" open>
  <section>
    <h1 id="dialog-label">Cookie Notice</h1>
    <p>We use some essential cookies to make this website work.</p>
    <p>We'd like to bra bra bra bra bra bra bra bra bra bra bra bra bra.</p>
    <p>We also use cookies set by other sites to help us bra bra bra bra bra bra bra bra bra bra bra bra bra bra.</p>
    <form method="dialog">
      <button type="submit" value="reject">Reject Cookies</button>
      <button type="submit" value="accept">Accpet Cookies</button>
    </form>
  </section>
</dialog>

<script>
  const $ = document.querySelector.bind(document)
  const $$ = document.querySelectorAll.bind(document)
  EventTarget.prototype.on = EventTarget.prototype.addEventListener

  $("#showModal").on("click", (e) => {
    $("dialog").show()
  })

  $("dialog").on("close", (e) => {
    console.log(e)
    console.log(e.type, e.target.returnValue)
  })

  $("dialog").on("cancel", (e) => {
    console.log(e)
    console.log(e.type, e.target.returnValue)
  });
</script>