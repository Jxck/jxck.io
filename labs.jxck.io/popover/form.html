<!doctype html>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ“„</text></svg>" />
<title>popover in form DEMO</title>

<meta http-equiv="origin-trial" content="" />

<style>
  body {
    display: flex;
    flex-direction: column;
    align-items: center;

    form {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      width: 30vw;
      gap: 1rem;

      h1 {
        width: 100%;
      }
      textarea {
        anchor-name: --anchor;
        width: 100%;
        height: 10rem;
      }

      :popover-open {
        position-anchor: --anchor;
        bottom: anchor(bottom);
        right: anchor(right);
        background-color: #ccc;
      }
    }
  }
</style>

<form>
  <h1><label for="anchor">Popover in Form</label></h1>
  <textarea id="anchor" name="body">click [ok].</textarea>
  <div id="popover" anchor="anchor" popover>
    <p>you dont have permission to submit</p>
  </div>
  <button type="button" popovertarget="popover">ok</button>
</form>

<script>
  "use strict"
  const $ = document.querySelector.bind(document)
  const $$ = document.querySelectorAll.bind(document)
  EventTarget.prototype.on = EventTarget.prototype.addEventListener

  document.on("DOMContentLoaded", async (e) => {
    $("form").on("submit", (e) => {
      e.preventDefault()
      console.log(e)
    })
  })
</script>
