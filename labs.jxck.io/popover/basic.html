<!DOCTYPE html>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ“„</text></svg>" />
<title>Anchor Basic DEMO</title>

<meta http-equiv="origin-trial" content="" />

<h1>Anchor Basic DEMO</h1>

<div id="popover" popover>Hello Popover</div>
<button popovertarget="popover" popovertargetaction="show">show</button>
<button popovertarget="popover" popovertargetaction="hide">hide</button>
<button popovertarget="popover" popovertargetaction="toggle">toggle</button>

<hr />

<div id="one" popover="manual">One</div>
<div id="two" popover="manual">Two</div>
<button popovertarget="one" popovertargetaction="show">one</button>
<button popovertarget="two" popovertargetaction="show">two</button>

<style>
  #one {
    position: absolute;
    left: 40vw;
    right: auto;
  }
  #two {
    position: absolute;
    left: auto;
    right: 40vw;
  }
</style>

<hr />

<button id="load">load (1s)</button>
<div id="message" popover>
  <output></output>
  <button popovertarget="message" popovertargetaction="hide">x</button>
</div>

<script>
  const url = "https://api.jxck.io/sleep?1"

  const $load = document.querySelector("#load")
  const $message = document.querySelector("#message")
  const $output = $message.querySelector("output")

  $load.addEventListener("click", async () => {
    $message.hidePopover()
    const res = await fetch(url)
    if (res.ok) {
      $output.textContent = "Fetch Succeed"
    } else {
      $output.textContent = "Fetch Failed"
    }
    $message.showPopover()
  })
</script>
